/*!
 * /node_modules/activereports/activereports-designer v0.4.0
 * Author: GrapeCity, Inc.
 * Description: ActiveReportsJS Designer
 */
import{r as e,f as t,b as n,T as r,B as o,D as a,a as i,c,s as l,d as s,e as u,g as d,h as p,I as m,i as f,m as v,j as h,k as g,l as y,n as b,o as E,M as w,N as S,p as _,P as x,A as C,q as N,t as k,u as P,v as T,w as I,S as O,R as D,x as A,K as M,y as z,z as L,C as H,_ as j,E as V,F as B,G as R,H as F,J as U,L as W,O as K,Q as $,U as G,V as Z,W as X,X as Y,Y as q,Z as Q,$ as J,a0 as ee,a1 as te,a2 as ne,a3 as re,a4 as oe,a5 as ae,a6 as ie,a7 as ce,a8 as le,a9 as se,aa as ue,ab as de,ac as pe,ad as me,ae as fe,af as ve,ag as he,ah as ge,ai as ye,aj as be,ak as Ee,al as we,am as Se,an as _e,ao as xe,ap as Ce,aq as Ne,ar as ke,as as Pe,at as Te,au as Ie,av as Oe,aw as De,ax as Ae,ay as Me,az as ze,aA as Le,aB as He,aC as je,aD as Ve,aE as Be,aF as Re,aG as Fe,aH as Ue,aI as We,aJ as Ke,aK as $e,aL as Ge,aM as Ze,aN as Xe,aO as Ye,aP as qe,aQ as Qe,aR as Je,aS as et,aT as tt,aU as nt,aV as rt,aW as ot,aX as at,aY as it,aZ as ct,a_ as lt,a$ as st,b0 as ut,b1 as dt,b2 as pt,b3 as mt,b4 as ft,b5 as vt,b6 as ht,b7 as gt,b8 as yt,b9 as bt,ba as Et,bb as wt,bc as St,bd as _t,be as xt,bf as Ct,bg as Nt,bh as kt,bi as Pt,bj as Tt,bk as It,bl as Ot,bm as Dt,bn as At,bo as Mt,bp as zt,bq as Lt,br as Ht,bs as jt,bt as Vt,bu as Bt,bv as Rt,bw as Ft,bx as Ut,by as Wt,bz as Kt,bA as $t,bB as Gt,bC as Zt,bD as Xt,bE as Yt,bF as qt,bG as Qt,bH as Jt,bI as en,bJ as tn,bK as nn,bL as rn,bM as on,bN as an,bO as cn,bP as ln,bQ as sn,bR as un,bS as dn,bT as pn,bU as mn,bV as fn,bW as vn,bX as hn,bY as gn,bZ as yn,b_ as bn,b$ as En,c0 as wn,c1 as Sn,c2 as _n,c3 as xn,c4 as Cn,c5 as Nn,c6 as kn,c7 as Pn,c8 as Tn,c9 as In,ca as On,cb as Dn,cc as An,cd as Mn,ce as zn,cf as Ln,cg as Hn,ch as jn,ci as Vn,cj as Bn,ck as Rn,cl as Fn,cm as Un,cn as Wn,co as Kn,cp as $n,cq as Gn,cr as Zn,cs as Xn,ct as Yn,cu as qn,cv as Qn,cw as Jn,cx as er,cy as tr}from"./index-d075882e.js";import"/node_modules/activereports/ar-js-pagereport";import"barcodejs";var nr,rr=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e.createElement("path",{className:t.text,d:"M11 15h2v2h-2v-2m0-8h2v6h-2V7m1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m0 18a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8z"})),or=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e.createElement("path",{className:t.text,d:"M12 2L1 21h22M12 6l8 13H4m7-9v4h2v-4m-2 6v2h2v-2"})),ar=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e.createElement("path",{className:t.text,d:"M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.85.63 3.55 1.68 4.91L16.91 5.68C15.55 4.63 13.85 4 12 4m0 16a8 8 0 0 0 8-8c0-1.85-.63-3.55-1.68-4.91L7.09 18.32C8.45 19.37 10.15 20 12 20z"})),ir=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:t.text,d:"M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6z"})),cr=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:t.text,d:"M12 16h8v1h2V7h-2v1h-8l-2-2H8v5.2H2v1.6h6V18h2l2-2m-2-7.2l1.2 1.2H20v4h-8.8L10 15.2V8.8z"})),lr=(nr=function(e,t){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}nr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),sr=function(){return(sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ur=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},dr=ur(n("appbar"),3),pr=dr[0],mr=dr[1],fr=dr[2],vr=ur(fr("badge"),2),hr=vr[0],gr=vr[1],yr=ur(fr("logo-container"),1)[0],br=ur(fr("main-section"),1)[0],Er=ur(fr("title-section"),1)[0],wr=ur(fr("title"),1)[0],Sr=ur(fr("subtitle"),1)[0],_r=ur(fr("control-section"),1)[0],xr=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.mapAppBarItems=function(t,c){if(t){var l=n.props,s=l.rounded,u=l.size,d=l.legacyMode,p="appbar-item-"+c;if("splitter"===t.type)return e.createElement(r,{key:p});if("button"===t.type){var m={block:!0,accent:d?"full":"text+icon",background:d?"default":"transparent",size:d?"large":u,rounded:s};return e.createElement(o,sr({key:p},t,m))}if("dropdown"===t.type){var f={block:!0,accent:d?"full":"text+icon",background:d?"default":"transparent",size:d?"large":u,rounded:s};return e.createElement(a,sr({key:p},t,f))}if("group"===t.type){var v={block:!0,defaultAccent:d?"full":"text+icon",defaultBackground:d?"default":"transparent",size:d?"large":u,rounded:s};return e.createElement(i,sr({key:p},t,v))}}},n.mapMenuItems=function(e){return{id:e.id,text:e.text,title:e.title,disabled:e.disabled}},n.onTabSelect=function(e){var t=n.props.onMenuItemSelect;t&&t(e)},n}return lr(n,t),n.prototype.render=function(){var t,n,o=this.props,a=o.id,i=o.size,p=o.rounded,m=o.dataAid,f=o.mainItems,v=o.menuItems,h=o.controlItems,g=o.selectedMenuItemId,y=o.customCSS,b=o.title,E=o.subtitle,w=o.badge,S=o.legacyMode,_=c(pr,y,((t={})[l]=!S&&"small"===i,t[s]=S||"large"===i,t[mr("legacy")]=S,t)),x=f&&f.map(this.mapAppBarItems),C=h&&h.map(this.mapAppBarItems),N=void 0;if(v){var k={dataAid:m?m+"_tabs":void 0,design:S?"transparent":"simplified",align:"left",tabs:v.map(this.mapMenuItems),size:S?"large":i,rounded:p,block:!0,selectedTabId:g,onTabSelect:this.onTabSelect};N=e.createElement(u,sr({},k))}var P={block:!0,toggleBackground:"transparent",toggleAccent:"icon",padding:!0,rounded:p,size:S?"large":i,overflowVisible:!0},T=void 0;return w&&(T=c(hr,((n={})[gr("accent")]="accent"===w.type,n[gr("error")]="error"===w.type,n[gr("warning")]="warning"===w.type,n[gr("clickable")]=w.onClick,n))),e.createElement("div",{id:"appbar_"+a,"data-aid":m,className:_},e.createElement("div",{id:"appbar_"+a+"_logo_container",className:yr}),e.createElement("div",{className:br},e.createElement(d,sr({id:"appbar_"+a+"_main",dataAid:m&&m+"_main-section"},P),x,x&&N&&e.createElement(r,null),N)),e.createElement("div",{className:Er},b&&e.createElement("span",{className:wr},b),E&&e.createElement("span",{className:Sr},"* "+E+" *"),w&&e.createElement("span",{className:T,title:w.title||w.text,onClick:w.onClick},w.text)),e.createElement("div",{className:_r},e.createElement(d,sr({id:"appbar_"+a+"_control",dataAid:m&&m+"_control-section"},P),C)))},n.defaultProps={legacyMode:!1,rounded:!1,size:"default"},n}(e.Component),Cr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},kr=Nr(n("menu-panel"),3),Pr=kr[0],Tr=kr[1],Ir=Nr((0,kr[2])("placeholder"),1)[0],Or=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayName="MenuPanel",e}return Cr(n,t),n.prototype.render=function(){var t,n=this.props,r=n.children,o=n.customCSS,a=n.customScroll,i=n.dataAid,l=n.toggle.text,s=c(Pr,o,((t={})[Tr("fill-container")]=a,t));return e.createElement("div",{className:s,"data-aid":i,role:"region","aria-label":l},r)},n.defaultProps={chevronIcon:p(m,{rotate:"90",size:"small"}),customScroll:!1,disabled:!1,hideChevron:!1},n}(e.Component);f.set(Or,"MenuPanel");var Dr,Ar=function(t){var n=t.text;return e.createElement("div",{className:Ir},n)},Mr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=function(){return(zr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Hr=Lr(n("message-box"),1)[0],jr=Lr(v("message"),1)[0],Vr=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClose=function(t){return function(){e.props.onClose(t)}},e}return Mr(n,t),n.prototype.render=function(){var t,n,r=this,o=this.props,a=o.title,i=o.message,l=o.controls,s=o.open,u=o.style,d=o.hideCloseButton,p=o.onOpen,m=o.closeTimeoutMS,f=o.customCSS,v=o.overlayCustomCSS,g=o.dataAid,y=o.buttonsAlign,b=o.level,E=o.rounded,w=o.icon,S=o.titleAlign,_=o.customControlLabels,x={title:a,open:s,level:b,rounded:E,style:u,icon:w,onOpen:p,dataAid:g,hideCloseButton:d,titleAlign:S,overlayCustomCSS:v,closeTimeoutMS:m,shouldCloseOnOverlayClick:o.shouldCloseOnOverlayClick,shouldCloseOnEsc:o.shouldCloseOnEsc,customCSS:c(Hr,f),onClose:this.onClose(),controls:(t=l.length>2?"right":"center",n=y||t,l.reduce((function(e,t){var n={onClick:r.onClose(t)},o=_&&_[t];return"ok"===t&&(n.text=o||"OK",n.accent="full"),"yes"===t&&(n.text=o||"Yes",n.accent="full"),"no"===t&&(n.text=o||"No",n.accent="full"),"cancel"===t&&(n.text=o||"Cancel"),e.buttons.push(n),e}),{align:n,buttons:[]}))};return e.createElement(h,zr({},x),e.createElement("div",{className:jr},i))},n.defaultProps={closeTimeoutMS:0,hideCloseButton:!1,level:"info",rounded:!1,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,titleAlign:"left"},n}(e.Component),Br=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rr=function(){return(Rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Fr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ur=Fr(n("progress"),3),Wr=Ur[0],Kr=Ur[1],$r=Ur[2],Gr=Fr($r("fill"),1)[0],Zr=Fr($r("value"),1)[0],Xr=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._fillRef=e.createRef(),n.getFillElement=function(){return n._fillRef.current},n}return Br(n,t),n.prototype.render=function(){var t,n=this.props,r=n.id,o=n.progress,a=n.indeterminate,i=n.pause,u=n.size,d=n.showProgress,p=n.color,m=n.transparent,f=n.width,v=n.inline,h=n.customCSS,g=n.dataAid,y=n.style,b=c(Wr,h,((t={})[Kr("inline")]=v,t[Kr("accent")]="accent"===p,t[Kr("semi-transparent")]="semi"===m,t[Kr("transparent")]="full"===m,t[Kr("indeterminate")]=a,t[Kr("pause-"+i)]=i,t[l]="small"===u,t[s]="large"===u,t)),E=void 0;if("default"!==p&&"accent"!==p&&(E=p),a)return e.createElement("div",{id:r,"data-aid":g,className:b,style:Rr({width:f},y.bar)},e.createElement("div",{className:Gr,ref:this._fillRef,style:Rr({backgroundColor:E},y.fill)}));var w=100*(o&&!isNaN(o)&&o>=0&&o<=1&&o||0),S=Math.round(w)+"%",_=Rr({width:w+"%",backgroundColor:E},y.fill);return e.createElement("div",{id:r,"data-aid":g,className:b,style:Rr({width:f},y.bar)},e.createElement("div",{className:Gr,ref:this._fillRef,style:_},d&&"small"!==u&&e.createElement("span",{className:Zr},S)))},n.defaultProps={color:"default",indeterminate:!1,inline:!1,showProgress:!0,size:"default",style:{}},n}(e.Component),Yr=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},qr=(Dr=Yr(n("notification"),3))[0],Qr=Dr[1],Jr=Dr[2],eo=Yr(Jr("button"),1)[0],to=Yr(Jr("button-mini"),1)[0],no=Yr(Jr("tag"),1)[0],ro=Yr(Jr("content"),1)[0],oo=Yr(Jr("actions"),1)[0],ao=Yr(Jr("caption"),1)[0],io=Yr(Jr("loader"),1)[0],co=Yr(Jr("status"),1)[0],lo=Yr(Jr("timeout-bar"),1)[0],so=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uo=function(){return(uo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},po={cancel:p(ar)},mo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return so(n,t),n.prototype.render=function(){var t,n=this.props,r=n.task,a=n.cancelTaskTitle,i=n.rounded,l=n.size,s=n.dataAid,u={rounded:i,customCSS:eo,icon:po.cancel,title:a,onClick:r.cancel,dataAid:s&&s+"_task_cancel"},d=function(e){return Number.isFinite(e)&&e>1?e/100:e}(r.progress),p={size:"small",indeterminate:!d||d===1/0,progress:d},m=c(qr,Qr("task"),((t={})[Qr("rounded")]=i,t[Qr("size-small")]="small"===l,t));if("small"===l){var f=uo(uo({},u),{size:"small",icon:po.cancel,customCSS:to,name:a});return e.createElement("div",{className:m,"data-aid":s&&s+"_task",role:"status","aria-live":"polite","aria-label":""+d},e.createElement("div",{className:no},e.createElement("div",{className:io},e.createElement("div",null)),r.cancel&&e.createElement(o,uo({},f))),e.createElement("div",{className:ro},e.createElement("div",{className:ao},r.caption),!p.indeterminate&&e.createElement(Xr,uo({},p))))}return e.createElement("div",{className:m,"data-aid":s&&s+"_task",role:"status","aria-live":"polite","aria-label":""+d},e.createElement("div",{className:no},e.createElement("div",{className:io},e.createElement("div",null)),r.cancel&&e.createElement(o,uo({},u))),e.createElement("div",{className:ro},e.createElement("div",{className:ao},r.caption),e.createElement(Xr,uo({},p)),e.createElement("div",{className:co},r.statusText)))},n}(e.Component),fo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vo=function(){return(vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ho={error:p(rr),warning:p(or),info:p(ir),details:p(g,{rotate:"90"}),dismiss:p(y)},go={error:{icon:ho.error,modifier:"error"},warning:{icon:ho.warning,modifier:"warning"},info:{icon:ho.info,modifier:"info"}},yo=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._timeoutBarRef=e.createRef(),n.onTimeout=function(){var e,t,r;null===(e=n.props.renderTimeout)||void 0===e||e.callback(),null===(r=null===(t=n._timeoutBarRef.current)||void 0===t?void 0:t.getFillElement())||void 0===r||r.removeEventListener("animationend",n.onTimeout)},n}return fo(n,t),n.prototype.componentDidMount=function(){var e,t;null===(t=null===(e=this._timeoutBarRef.current)||void 0===e?void 0:e.getFillElement())||void 0===t||t.addEventListener("animationend",this.onTimeout)},n.prototype.componentWillUnmount=function(){this.onTimeout()},n.prototype.render=function(){var t;if(this.props.notification.hidden)return null;var n,r=this.props,a=r.notification,l=r.onDetailsClick,s=r.onDismiss,u=r.dismissLabel,d=r.showDetailsLabel,p=r.rounded,m=r.size,f=r.dataAid,v=r.renderTimeout,h=function(e){return go[e.level]}(a),g=h.icon,y=h.modifier,E=c(qr,Qr(y),((t={})[Qr("rounded")]=p,t[Qr("size-small")]="small"===m,t)),w={type:"button",onClick:l,customCSS:eo},S={type:"button",onClick:s,customCSS:eo};return v&&(n={size:"small",progress:1,style:{fill:{animationDuration:v.time+"ms"}},customCSS:lo}),"small"===m?e.createElement("div",{className:E,"data-aid":f&&f+"_notification",role:"alert","aria-live":"assertive","aria-label":y},e.createElement("div",{className:no},e.createElement(b,{icon:vo(vo({},g),{size:m})})),e.createElement("div",{className:ro},e.createElement("div",{className:ao},a.caption),e.createElement("div",{className:oo},e.createElement(i,{size:"small",rounded:p,items:[a.content&&vo(vo({},w),{icon:ho.details,title:d,customCSS:to,dataAid:f&&f+"_notification_show_details"}),vo(vo({},S),{icon:ho.dismiss,title:u,customCSS:to,dataAid:f&&f+"_notification_dismiss"})]}))),v&&e.createElement(Xr,vo({},n,{ref:this._timeoutBarRef}))):e.createElement("div",{className:E,"data-aid":f&&f+"_notification",role:"alert","aria-live":"assertive","aria-label":y},e.createElement("div",{className:no},e.createElement(b,{icon:a.icon||g})),e.createElement("div",{className:ro},e.createElement("div",{className:ao},a.caption),e.createElement("div",{className:oo},a.content&&e.createElement(o,vo({},w,{rounded:p,dataAid:f&&f+"_notification_show_details"}),d),e.createElement(o,vo({},S,{rounded:p,dataAid:f&&f+"_notification_dismiss"}),u))),v&&e.createElement(Xr,vo({},n,{ref:this._timeoutBarRef})))},n}(e.Component),bo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eo=function(){return(Eo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return bo(n,t),n.prototype.render=function(){var t,n=this.props,r=n.notifications,a=n.onShowAll,l=n.onDismissAll,s=n.showAllLabel,u=n.dismissAllLabel,d=n.rounded,p=n.size,m=n.dataAid,f=c(qr,Qr("batch"),((t={})[Qr("rounded")]=d,t[Qr("size-small")]="small"===p,t)),v={type:"button",onClick:a,customContent:s,customCSS:eo},h={type:"button",onClick:l,customContent:u,customCSS:eo};return"small"===p?e.createElement("div",{className:f,"data-aid":m&&m+"_batch"},e.createElement("div",{className:no},"+"+(r.length-3)),e.createElement("div",{className:ro},e.createElement("div",{className:oo},e.createElement(i,{size:"small",rounded:d,items:[v,h]})))):e.createElement("div",{className:f,"data-aid":m&&m+"_batch"},e.createElement("div",{className:no},"+"+(r.length-3)),e.createElement("div",{className:ro},e.createElement("div",{className:oo},e.createElement(o,Eo({},v),s),e.createElement(o,Eo({},h),u))))},n}(e.Component),So=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_o=function(){return(_o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Co=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},No=Co(n("notifications-container"),2),ko=No[0],Po=No[1],To=Co(n("notifications-modal"),1)[0],Io={expanded:!1,activeId:void 0},Oo=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._root=null,e.state=Io,e.getRoot=function(){var t=e.context,n=t.root,r=t.API,o=n.getElement(),a=r.namespace+"-notifications-root",i=document.getElementById(a);if(i)return i;var c=E(a,"notifications");return o.appendChild(c)},e.getRenderTimeout=function(t){var n,r,o=e.props,a=o.autoDismissTimeout,i=o.autoHideTimeout;if((t.autoDismissTimeout||a)&&(n={callback:e.onDismiss(t.id,!0),time:t.autoDismissTimeout||a}),i&&(r={callback:function(){return e.hideNotification(t.id)},time:i}),n&&r){var c=Co([n,r].sort((function(e,t){return e.time-t.time})),2),l=c[0],s=c[1],u=l.callback;return l.callback=function(){u(),setTimeout(s.callback,s.time-l.time)},l}return n||r},e.hideNotification=function(t){e.props.onNotificationHide(t)},e.hideNotificationsAll=function(){e.props.onNotificationHide()},e.setActiveIndex=function(t){e.setState({activeId:t})},e.toggleExpand=function(t){var n=e.state.expanded;t&&n||!1===t&&!n||e.setState({expanded:!n})},e.onDismiss=function(t,n){return void 0===n&&(n=!1),function(){n&&e.state.expanded||e.props.onDismiss(t)}},e.onDetailsOpen=function(t){return function(){e.props.autoHideTimeout&&e.hideNotificationsAll(),e.setActiveIndex(t),e.toggleExpand(!0)}},e}return So(n,t),n.getDerivedStateFromProps=function(e,t){return e.notifications.length?null:Io},n.prototype.componentDidMount=function(){this._root=this.getRoot()},n.prototype.render=function(){var t,n=this,r=this._root,o=this.props,a=o.notifications,i=o.tasks,l=o.rounded,s=o.position,u=o.showLastThree,d=o.customCSS,p=o.detailsCustomCSS,m=o.size,f=o.dataAid,v=o.dismissLabel,h=o.dismissAllLabel,g=o.showAllLabel,y=o.showDetailsLabel,b=o.cancelTaskTitle,E=o.onDismissAll,C=o.ariaLabel,N=xo(o,["notifications","tasks","rounded","position","showLastThree","customCSS","detailsCustomCSS","size","dataAid","dismissLabel","dismissAllLabel","showAllLabel","showDetailsLabel","cancelTaskTitle","onDismissAll","ariaLabel"]),k=this.state,P=k.expanded,T=k.activeId;if(!r)return null;if(P&&a.length){var I=_o(_o({},N),{customCSS:p,dismissLabel:v,dismissAllLabel:h,notifications:a,activeId:T,dataAid:f,ariaLabel:C});return e.createElement(w,{open:P,onClose:function(){return n.toggleExpand(!1)},customCSS:To},e.createElement(S,_o({},I)))}var O=a.filter((function(e){return!e.hidden}));if(!O.length&&!i.length)return null;var D=!u&&O.length>3;O=u?O.slice(-3):D?O.slice(0,3):O;var A=c(ko,d,((t={})[Po("position-"+s)]=s,t)),M={notifications:a,rounded:l,size:m,dataAid:f,showAllLabel:g,dismissAllLabel:h,onShowAll:this.onDetailsOpen(),onDismissAll:E},z={parent:{type:"viewport"},align:s};return _.createPortal(e.createElement(x,_o({},z),e.createElement("div",{className:A},i.map((function(t){var n={task:t,rounded:l,size:m,dataAid:f,cancelTaskTitle:b};return e.createElement(mo,_o({key:t.id},n))})),O.map((function(t){var r={notification:t,rounded:l,size:m,dataAid:f,onDetailsClick:n.onDetailsOpen(t.id),onDismiss:n.onDismiss(t.id),dismissLabel:v,showDetailsLabel:y,renderTimeout:n.getRenderTimeout(t)};return e.createElement(yo,_o({key:t.id},r))})),D&&e.createElement(wo,_o({},M)))),r)},n.contextType=C,n}(e.Component),Do=function(){function e(e){this._state={notifications:new Map,tasks:new Map},this._updateCallback=e}return e.prototype.dispatch=function(e){(function(e,t){switch(t.type){case"ADD_NOTIFICATION":e.notifications.set(t.payload.id,t.payload);break;case"ADD_TASK":e.tasks.set(t.payload.id,t.payload);break;case"REMOVE_NOTIFICATION":return e.notifications.delete(t.payload);case"REMOVE_TASK":return e.tasks.delete(t.payload);case"UPDATE_TASK":var n=t.payload,r=n.id,o=n.progress,a=n.statusText,i=e.tasks.get(r);if(!i)return!1;i.progress=o,i.statusText=a||i.statusText;break;case"CLEAR_NOTIFICATIONS":e.notifications.clear();break;case"HIDE_NOTIFICATION":var c=e.notifications.get(t.payload);if(!c)return!1;c.hidden=!0;break;case"HIDE_NOTIFICATIONS_ALL":e.notifications.forEach((function(e){e.hidden=!0}))}return!0})(this._state,e)&&this.scheduleUpdate()},e.prototype.scheduleUpdate=function(){var e=this;clearTimeout(this._updateTimer),this._updateTimer=window.setTimeout((function(){e._updateCallback(e._state)}),0)},e}();function Ao(e,t){return void 0===t&&(t=void 0),{type:e,payload:t}}var Mo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(){return(zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ho=function(t){function n(e){var n=t.call(this,e)||this;return n._subscribedCallbacks=[],n._notificationIdBase=N(),n._notificationCounter=0,n.state={notifications:[],tasks:[]},n.onSend=function(e){var t,r=e.type,o=e.payload;if(o.id=null!==(t=o.id)&&void 0!==t?t:n.generateNotificationId(),"notification"===r){var a=o;"info"!==a.level&&"warning"!==a.level&&(a.level="error"),n._store.dispatch(Ao("ADD_NOTIFICATION",a))}else{var i=o;i.cancel=n.onTaskCancel(i),n._store.dispatch(Ao("ADD_TASK",i))}},n.onDismiss=function(e){n._store.dispatch(Ao("REMOVE_NOTIFICATION",e))},n.onDismissAll=function(){n._store.dispatch(Ao("CLEAR_NOTIFICATIONS"))},n.onTaskUpdate=function(e){n._store.dispatch(Ao("UPDATE_TASK",e))},n.subscribe=function(e){n._subscribedCallbacks.push(e)},n.unsubscribe=function(e){n._subscribedCallbacks=n._subscribedCallbacks.filter((function(t){return t!==e}))},n.getState=function(){return n.state},n.generateNotificationId=function(){return""+n._notificationIdBase+n._notificationCounter++},n.onUpdate=function(e){var t=n.props.onDismiss;t&&n.state.notifications.filter((function(t){return!e.notifications.has(t.id)})).forEach((function(e){return t(e.id)}));var r={notifications:[],tasks:[]};e.notifications.forEach((function(e){return r.notifications.push(e)})),e.tasks.forEach((function(e){return r.tasks.push(e)})),n.setState(r,(function(){n._subscribedCallbacks.forEach((function(e){return e&&e(n.state)}))}))},n.onTaskCancel=function(e){var t=e.id,r=e.cancel;return function(){!1!==(null==r?void 0:r())&&n._store.dispatch(Ao("REMOVE_TASK",t))}},n.onNotificationHide=function(e){void 0===e?n._store.dispatch(Ao("HIDE_NOTIFICATIONS_ALL")):n._store.dispatch(Ao("HIDE_NOTIFICATION",e))},n._store=new Do(n.onUpdate),n}return Mo(n,t),n.prototype.componentDidMount=function(){var e=this.context.API;e.current.notifications?console.warn("Repeated <NotificationManager/> mounting"):e.current.notifications={send:this.onSend,dismiss:this.onDismiss,dismissAll:this.onDismissAll,updateTask:this.onTaskUpdate,subscribe:this.subscribe,unsubscribe:this.unsubscribe,getState:this.getState}},n.prototype.componentWillUnmount=function(){var e=this.context.API;e.current.notifications&&e.current.notifications.send===this.onSend&&delete e.current.notifications},n.prototype.render=function(){var t=this._subscribedCallbacks,n=this.props,r=n.autoHideTimeout,o=Lo(n,["autoHideTimeout"]),a=this.state,i=a.notifications,c=a.tasks,l=r;t.length>0&&void 0===r&&(l=2e3);var s=zo(zo({},o),{notifications:i,tasks:c,autoHideTimeout:l,showLastThree:t.length>0,onDismiss:this.onDismiss,onDismissAll:this.onDismissAll,onNotificationHide:this.onNotificationHide});return e.createElement(Oo,zo({},s))},n.contextType=C,n.defaultProps={position:"bottom-center",rounded:!1,size:"default",dismissLabel:"Dismiss",dismissAllLabel:"Dismiss All",showAllLabel:"Show All",showDetailsLabel:"Show Details",cancelTaskTitle:"Cancel this task",expandTitle:"Expand",collapseTitle:"Collapse",errorCategoryLabel:"Error",warningCategoryLabel:"Warning",infoCategoryLabel:"Notification",ariaLabel:"Notifications details"},n}(e.Component),jo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vo=function(){return(Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Bo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ro=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return jo(n,t),n.prototype.render=function(){var t=this.props,n=t.notifications,r=t.placeholder,o=t.customCSS,a=t.dataAid,i=(t.alwaysVisible,t.chevronIcon),l=t.customScroll,s=t.disabled,u=t.hideChevron,d=t.id,p=t.toggle,m=(t.children,Bo(t,["notifications","placeholder","customCSS","dataAid","alwaysVisible","chevronIcon","customScroll","disabled","hideChevron","id","toggle","children"])),f=Vo(Vo({},m),{notifications:n}),v={dataAid:a,chevronIcon:i,customScroll:l,disabled:s,hideChevron:u,id:d,toggle:p,customCSS:c(Tr("notifications"),o)};return e.createElement(Or,Vo({},v),n.length>0?e.createElement(S,Vo({},f)):e.createElement(Ar,{text:r}))},n.defaultProps={id:"__gc-notifications__",toggle:{icon:p(k),text:"Notifications"},customScroll:!0,placeholder:"There are no notifications",disabled:!1,alwaysVisible:!1,chevronIcon:p(m,{rotate:"90",size:"small"}),hideChevron:!1},n}(e.Component),Fo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uo=function(){return(Uo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Wo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ko=Wo(n("menu"),3),$o=Ko[0],Go=Ko[1],Zo=Ko[2],Xo=Wo(Zo("panel-container"),2),Yo=Xo[0],qo=Xo[1],Qo=Wo(Zo("panel-header"),1)[0],Jo=Wo(Zo("panel-content"),1)[0],ea=Wo(Zo("panel-toggle"),2),ta=ea[0],na=ea[1],ra=Wo(Zo("panel-toggle-chevron"),2),oa=ra[0],aa=ra[1],ia=Wo(Zo("logo"),2),ca=ia[0],la=ia[1],sa=Wo(Zo("logo-placeholder"),2),ua=sa[0],da=sa[1],pa=Wo(Zo("btn-container"),1)[0],ma=Wo(Zo("scrollable-buttons"),1)[0],fa=Wo(Zo("splitter"),1)[0],va=Wo(n("btn-pin"),2),ha=va[0],ga=va[1],ya={toggle:p(P),pin:p(cr)},ba=function(){return e.createElement("div",{className:fa})};f.set(ba,"MenuSplitter");var Ea,wa=function(t){function n(n){var r=t.call(this,n)||this;r._menuDiv=null,r._buttonContainer=null,r._panelContainer=null,r._transitionSubscribers={start:[],end:[]},r.getPanelsAndSplitters=function(t){var n=e.Children.toArray(t).filter((function(t){return e.isValidElement(t)&&(f.is(t.type,Or)||f.is(t.type,ba))})),o=r.props,a=o.notificationPanel,i=o.notificationsData;if(i&&a){var c=i.notifications,l=i.amount,s=l.notifications>0||a.alwaysVisible,u=Uo(Uo({},a),{notifications:c});l.notifications>0&&!a.alwaysVisible&&n.push(e.createElement(ba,null)),s&&n.push(e.createElement(Ro,Uo({},u)))}return n},r.onToggle=function(){var e,t,n,o=r,a=o._transitionSubscribers,i=o.props.onToggle,c=o.state.status;i&&i(c),a.start.forEach((function(e){return e(c)})),null===(e=r._buttonContainer)||void 0===e||e.addEventListener("transitionend",r.onTransitionEnd),null===(n=null===(t=r._panelContainer)||void 0===t?void 0:t.element)||void 0===n||n.addEventListener("transitionend",r.onTransitionEnd)},r.onTransitionEnd=function(e){var t,n=r.context.API,o=r._buttonContainer,a=r._panelContainer.element;if(e.target===o||e.target===a){var i=null===(t=n.current.dropdowns)||void 0===t?void 0:t.current,c=null==i?void 0:i.getPositionerNode();null==c||c.classList.add(T),null==i||i.updateMenuPosition(),o.removeEventListener("transitionend",r.onTransitionEnd),a.removeEventListener("transitionend",r.onTransitionEnd),r._transitionSubscribers.end.forEach((function(e){return e(r.state.status)}))}},r.onPointerEventStart=function(e){var t=r,n=t._menuDiv,o=t.props.noCloseOnWindowClick,a=t.context.root,i=a.getElement();o||!n||i.classList.contains(I)||n===e.target||n.contains(e.target)||(a.addEventListener("mouseup",r.onPointerEventEnd),a.addEventListener("touchend",r.onPointerEventEnd),a.addEventListener("click",r.onPointerEventEnd))},r.onPointerEventEnd=function(){var e=r,t=e.state,n=t.status,o=t.pinned,a=e.context.root;"expanded"===n?r.collapseMenu():"panel"!==n||o||r.closePanel(),a.removeEventListener("mouseup",r.onPointerEventEnd),a.removeEventListener("touchend",r.onPointerEventEnd),a.removeEventListener("click",r.onPointerEventEnd)},r.expandMenu=function(){r.setState({status:"expanded"})},r.collapseMenu=function(){r.state.pinned?r.setState({status:"panel"}):r.setState({status:"collapsed"})},r.toggleMenu=function(){"expanded"!==r.state.status?r.expandMenu():r.collapseMenu()},r.openPanel=function(e){e!==r.state.activePanelId&&(r.setState({activePanelId:e,status:"panel"}),r.onPanelChange(e))},r.closePanel=function(e){var t=r.state,n=t.activePanelId;"panel"!==t.status||void 0!==e&&n!==e||(r.setState({activePanelId:null,status:"collapsed",pinned:!1}),r.onPanelChange(null))},r.pinPanel=function(e){var t=r.state,n=t.activePanelId,o=t.status;void 0===e&&"panel"===o&&n?r.setState({pinned:!0}):void 0!==e&&(r.setState({activePanelId:e,status:"panel",pinned:!0}),r.onPanelChange(e))},r.unpinPanel=function(){r.setState({pinned:!1})},r.onPanelChange=function(e){var t=r.props.onPanelChange;t&&t(e)},r.subscribeToTransition=function(e){var t=e.start,n=e.end;return t&&r._transitionSubscribers.start.push(t),n&&r._transitionSubscribers.end.push(n),function(){t&&(r._transitionSubscribers.start=r._transitionSubscribers.start.filter((function(e){return e!==t}))),n&&(r._transitionSubscribers.end=r._transitionSubscribers.end.filter((function(e){return e!==n})))}},r.onPanelToggleClick=function(e){return function(){var t=r.state,n=t.activePanelId,o=t.pinned;"panel"!==t.status||n!==e||o?(r.setState({activePanelId:e,status:"panel"}),r.onPanelChange(e)):(r.setState({activePanelId:null,status:"collapsed"}),r.onPanelChange(null))}},r.mapTogglesAndSplitters=function(t,n){var a,i;if(f.is(t.type,ba))return e.createElement(ba,{key:"panel-splitter-"+n});var l=r,s=l.props,u=s.size,d=s.legacyMode,p=s.notificationsData,m=l.state,v=m.status,h=m.activePanelId,g=t.props,y=g.id,E=g.toggle,w=g.disabled,S=g.dataAid,_=g.notifications,x=g.chevronIcon,C=g.hideChevron,N=E.badge&&Uo({nearIcon:!0},E.badge);if(_){var k=p,P=k.amount,T=k.level;N=P.notifications>0?{nearIcon:!0,rounded:!0,content:P.notifications,level:T}:void 0}var I={dataAid:S?S+"_toggle":void 0,block:!0,accent:d?"icon":"full",background:d?"transparent":"default",rounded:!1,size:u,badge:N,width:"100%",onClick:r.onPanelToggleClick(y),icon:E.icon,text:E.text,title:E.title,disabled:w},O={icon:x,customCSS:c(oa,(a={},a[aa("accent")]=d,a))},D=c(ta,((i={})[na("size-"+u)]="default"!==u,i[na("active")]="panel"===v&&y===h,i[na("no-chevron")]=C,i[na("disabled")]=w,i));return e.createElement("div",{key:"menu-panel-"+y,className:D},e.createElement(o,Uo({},I)),!C&&e.createElement(b,Uo({},O)))},r.mapItems=function(t,n){if(t){var a=r.props,i=a.size,c=a.legacyMode,l="menu-item-"+n;if("splitter"===t.type)return e.createElement(ba,{key:l});if("button"===t.type){var s={block:!0,accent:c?"icon":"full",background:c?"transparent":"default",rounded:!1,size:i,width:"100%",badge:t.badge&&Uo(Uo({},t.badge),{nearIcon:!0})};return e.createElement(o,Uo({key:l},t,s),t.customContent)}return"custom"===t.type?e.cloneElement(t.content,{key:l}):void 0}},r.onToggleClick=function(){r.toggleMenu()},r.onPinClick=function(){r.setState({pinned:!r.state.pinned})},r.getNode=function(){return r._menuDiv},r.onResize=function(e){var t;(null===(t=r._panelContainer)||void 0===t?void 0:t.element)&&(r._panelContainer.element.style.marginLeft="-"+e+"px")},r.onResizeEnd=function(){r._transitionSubscribers.end.forEach((function(e){return e(r.state.status)}))};var a={activePanelId:null,status:"collapsed",pinned:!1,logoContainerElement:null};return n.defaultPanelId?(a.activePanelId=n.defaultPanelId,a.status="panel"):"expanded"===n.defaultStatus&&(a.status="expanded"),r.state=a,r}return Fo(n,t),n.getDerivedStateFromProps=function(e,t){var n=null;function r(e){n||(n=Uo({},t)),n=Uo(Uo({},n),e)}return"__gc-notifications__"!==t.activePanelId||e.notificationPanel.alwaysVisible||e.notificationsData.amount.notifications||(t.pinned&&e.defaultPanelId?r({activePanelId:e.defaultPanelId}):r({activePanelId:null,status:"collapsed"})),void 0!==e.activePanelId&&e.activePanelId!==t.activePanelId&&r({activePanelId:e.activePanelId,status:null!==e.activePanelId?"panel":t.status}),void 0!==e.status&&e.status!==t.status&&r({status:e.status}),void 0!==e.pinned&&e.pinned!==t.pinned&&r({pinned:e.pinned}),n},n.prototype.componentDidMount=function(){var e=this.context,t=e.API,n=e.root;t.current.menu={expand:this.expandMenu,collapse:this.collapseMenu,toggle:this.toggleMenu,panels:{open:this.openPanel,close:this.closePanel,pin:this.pinPanel,unpin:this.unpinPanel},onTransition:this.subscribeToTransition};var r=this.props.logo;if(r){var o=document.getElementById("appbar_"+r.appBarId+"_logo_container");null!==o&&this.setState({logoContainerElement:o})}n.addEventListener("mousedown",this.onPointerEventStart),n.addEventListener("touchstart",this.onPointerEventStart)},n.prototype.componentWillUnmount=function(){var e=this.context.root;e.removeEventListener("mousedown",this.onPointerEventStart),e.removeEventListener("touchstart",this.onPointerEventStart),e.removeEventListener("mouseup",this.onPointerEventEnd),e.removeEventListener("touchend",this.onPointerEventEnd),e.removeEventListener("click",this.onPointerEventEnd)},n.prototype.componentDidUpdate=function(e,t){var n=this.state.status;t.status!==n&&this.onToggle()},n.prototype.render=function(){var t,n,r,a,i=this,l=this.props,s=l.items,u=l.size,d=l.mode,p=l.children,m=l.autoHideScrollbar,f=l.logo,v=l.customCSS,h=l.dataAid,g=l.legacyMode,y=l.toggleText,b=l.toggleTitle,E=l.toggleContent,w=l.pinBtnIcon,S=l.panelWidth,x=l.hidePinBtn,C=l.resizablePanel,N=l.minResizeWidth,k=l.maxResizeWidth,P=l.ariaLabel,T=l.pinBtnTitle,I=this.state,A=I.activePanelId,M=I.status,z=I.pinned,L=I.logoContainerElement,H=c($o,v,((t={})[Go("expanded")]="expanded"===M,t[Go("panel")]="panel"===M,t[Go("drawer")]="drawer"===d,t[Go("size-small")]="small"===u,t[Go("size-large")]="large"===u,t[Go("legacy")]=g,t)),j={dataAid:h?h+"_toggle":void 0,block:!0,accent:g?"icon":"full",background:g?"transparent":"default",size:u,icon:ya.toggle,text:y,title:b||y,onClick:this.onToggleClick},V=s?s.map(this.mapItems):[],B={direction:"vertical",style:{container:{position:"unset"}},color:"contrast",size:"small",growOnHover:"expanded"===M,autoHide:m},R=[],F=this.getPanelsAndSplitters(p);F.length>0&&(a=F.find((function(e){return e.props.id===A})),R=F.map(this.mapTogglesAndSplitters));var U=c(Yo,((n={})[qo("visible")]="panel"===M,n)),W={dataAid:h?h+"_pin":void 0,block:!0,icon:w||ya.pin,accent:"text+icon",background:"transparent",size:"large"===u?"default":"small",customCSS:c(ha,(r={},r[ga("pinned")]=z,r)),onClick:this.onPinClick,title:T},K={handlerSide:"right",disabled:!C||"panel"!==M,minSize:N,maxSize:k,onResize:this.onResize,onResizeEnd:this.onResizeEnd,customCSS:U,defaultSize:S,keepAspectRatio:!0};return e.createElement("div",{className:H,ref:function(e){return i._menuDiv=e},"data-aid":h,role:"navigation","aria-label":P||"menu"},function(){var t;if(!f||!L)return null;var n=c(ca,((t={})[la("expanded")]="expanded"===M,t[la("drawer")]="drawer"===d,t[la("menu-size-small")]="small"===u,t[la("menu-size-large")]="large"===u,t[la("size-small")]=!g&&"small"===f.size,t[la("size-large")]=g||"large"===f.size,t));return _.createPortal(e.createElement(e.Fragment,null,"drawer"===d&&e.createElement("div",{className:c(ua,da("size-"+u))}),e.createElement("div",{className:n},f.content)),L)}(),e.createElement("div",{className:pa,ref:function(e){return i._buttonContainer=e}},e.createElement(o,Uo({},j),E),e.createElement(ba,null),R.length>0&&R,R.length>0&&e.createElement(ba,null),V.length>0&&e.createElement("div",{className:ma},e.createElement(O,Uo({},B),V))),e.createElement(D,Uo({},K,{ref:function(e){return i._panelContainer=e}}),a&&e.createElement(e.Fragment,null,e.createElement("h2",{className:Qo},a.props.toggle.text,!x&&e.createElement(o,Uo({},W))),e.createElement("div",{className:Jo},a.props.customScroll?a:e.createElement(O,null,a)))))},n.contextType=C,n.defaultProps={autoHideScrollbar:!0,defaultStatus:"collapsed",hidePinBtn:!1,legacyMode:!1,mode:"panel",noCloseOnWindowClick:!1,size:"large",resizablePanel:!0,minResizeWidth:160,maxResizeWidth:.8},n}(e.Component),Sa=A(wa),_a=function(t){return t.notificationPanel?e.createElement(Sa,Uo({},t)):e.createElement(wa,Uo({},t))},xa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ca=function(){return(Ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Na=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ka=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Pa=ka(n("notifications-counter"),3),Ta=Pa[0],Ia=Pa[2],Oa=ka(Ia("toggle"),1)[0],Da=ka(Ia("menu"),1)[0],Aa={toggle:p(k)},Ma=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return xa(n,t),n.prototype.render=function(){var t=this.props,n=t.notificationsData,o=n.notifications,i=n.amount,s=n.level,u=t.dataAid,d=Na(t,["notificationsData","dataAid"]);if(!i.notifications)return null;var p=Ca(Ca({},d),{notifications:o,dataAid:u}),m={content:e.createElement(S,Ca({},p)),dataAid:u?u+"_notification-toggle":void 0,size:"small",accent:"text+icon",background:"transparent",dropup:!0,offset:0,level:s,icon:Aa.toggle,text:""+i.notifications,menuAlign:"left",hiddenChevron:!0,menuWidth:"auto",customCSS:Oa,menuCustomCSS:Da};return e.createElement("div",{className:c(Ta,l)},e.createElement(a,Ca({},m)),e.createElement(r,null))},n}(e.Component),za=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=function(){return(La=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ha=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ja=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Va=ja(n("status-bar"),3),Ba=Va[0],Ra=Va[2],Fa=ja(Ra("accessory"),1)[0],Ua=ja(Ra("items"),1)[0],Wa=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return za(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.accessory,o=t.customCSS,a=t.dataAid;return e.createElement("div",{className:c(Ba,o),"data-aid":a},r&&e.createElement("div",{className:Fa},r),e.createElement("div",{className:Ua},e.createElement(d,La({},{id:"statusbar-tools",block:!0,dropup:!0,toggleBackground:"transparent",size:"small"}),n)))},n}(e.Component),Ka=A(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return za(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.notificationsData,o=t.dataAid,a=t.customCSS,i=Ha(t,["children","notificationsData","dataAid","customCSS"]),c=La(La({},i),{notificationsData:r,dataAid:o});return e.createElement(Wa,{dataAid:o,customCSS:a,accessory:e.createElement(Ma,La({},c))},n)},n}(e.Component)),$a=function(t){return e.createElement(Ka,La({},t))},Ga="object"==typeof Reflect?Reflect:null,Za=Ga&&"function"==typeof Ga.apply?Ga.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Ea=Ga&&"function"==typeof Ga.ownKeys?Ga.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Xa=Number.isNaN||function(e){return e!=e};function Ya(){Ya.init.call(this)}var qa=Ya,Qa=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}li(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&li(e,"error",t,n)}(e,o,{once:!0})}))};Ya.EventEmitter=Ya,Ya.prototype._events=void 0,Ya.prototype._eventsCount=0,Ya.prototype._maxListeners=void 0;var Ja=10;function ei(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function ti(e){return void 0===e._maxListeners?Ya.defaultMaxListeners:e._maxListeners}function ni(e,t,n,r){var o,a,i,c;if(ei(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),i=a[t]),void 0===i)i=a[t]=n,++e._eventsCount;else if("function"==typeof i?i=a[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=ti(e))>0&&i.length>o&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,c=l,console&&console.warn&&console.warn(c)}return e}function ri(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function oi(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=ri.bind(r);return o.listener=n,r.wrapFn=o,o}function ai(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):ci(o,o.length)}function ii(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function ci(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function li(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(a){r.once&&e.removeEventListener(t,o),n(a)}))}}Object.defineProperty(Ya,"defaultMaxListeners",{enumerable:!0,get:function(){return Ja},set:function(e){if("number"!=typeof e||e<0||Xa(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ja=e}}),Ya.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ya.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Xa(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ya.prototype.getMaxListeners=function(){return ti(this)},Ya.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var i=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw i.context=a,i}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)Za(c,this,t);else{var l=c.length,s=ci(c,l);for(n=0;n<l;++n)Za(s[n],this,t)}return!0},Ya.prototype.addListener=function(e,t){return ni(this,e,t,!1)},Ya.prototype.on=Ya.prototype.addListener,Ya.prototype.prependListener=function(e,t){return ni(this,e,t,!0)},Ya.prototype.once=function(e,t){return ei(t),this.on(e,oi(this,e,t)),this},Ya.prototype.prependOnceListener=function(e,t){return ei(t),this.prependListener(e,oi(this,e,t)),this},Ya.prototype.removeListener=function(e,t){var n,r,o,a,i;if(ei(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){i=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},Ya.prototype.off=Ya.prototype.removeListener,Ya.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(o=a[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Ya.prototype.listeners=function(e){return ai(this,e,!0)},Ya.prototype.rawListeners=function(e){return ai(this,e,!1)},Ya.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ii.call(e,t)},Ya.prototype.listenerCount=ii,Ya.prototype.eventNames=function(){return this._eventsCount>0?Ea(this._events):[]},qa.once=Qa;var si=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ui=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyUp=function(e){return e.which===M.TAB&&t.advance()},t.advance=function(){var e=t.props,n=e.className,r=e.waitingTime;clearTimeout(t._timerId),t._container.classList.remove(n),t._timerId=window.setTimeout((function(){t._container.classList.add(n)}),r)},t.reset=function(){t._container.classList.add(t.props.className)},t}return si(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.className,n=e.getContainer,r=this.context.API;r.current.focusTimer?console.warn("Repeated <FocusTimer/> mounting"):(r.current.focusTimer={advance:this.advance,reset:this.reset},this._container=n(),window.addEventListener("keyup",this.onKeyUp),this._container.classList.add(t))},t.prototype.componentWillUnmount=function(){var e=this.props.className,t=this.context.API;t.current.focusTimer&&t.current.focusTimer.advance===this.advance&&(window.removeEventListener("keyup",this.onKeyUp),this._container.classList.remove(e),clearTimeout(this._timerId))},t.prototype.render=function(){return null},t.contextType=C,t.defaultProps={waitingTime:3e3,className:"gc-no-focus-effect",getContainer:function(){return document.body}},t}(e.Component),di=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}(n("grid"),2),mi=pi[0],fi=pi[1],vi=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return di(n,t),n.prototype.render=function(){var t=this.props,n=t.template,r=t.customCSS,o=t.children,a=c(mi,fi(n),r);return e.createElement("div",{className:a},o)},n}(e.Component),hi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}(n("grid-item"),2),yi=gi[0],bi=gi[1],Ei=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return hi(n,t),n.prototype.render=function(){var t=this.props,n=t.area,r=t.customCSS,o=t.children,a=c(yi,r,bi(n));return e.createElement("div",{className:a},o)},n}(e.Component),wi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Si=function(){return(Si=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_i=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}(n("app"),1)[0],xi=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._root=null,e._rootId=e.props.rootId+"-app",e._API=new z(e.props.rootId),e._eventEmitter=new qa.EventEmitter,e.getRootElement=function(){return e._root||(e._root=document.getElementById(e._rootId)),e._root||document.body},e.addEventListener=function(t,n){e._eventEmitter.on(t,n)},e.removeEventListener=function(t,n){e._eventEmitter.off(t,n)},e.onPointerEvent=function(t){e._eventEmitter.emit(t.type,t)},e}return wi(n,t),n.prototype.componentWillUnmount=function(){this._API.destroy()},n.prototype.render=function(){var t=this.props,n=t.children,r=t.focusWaitingTime,o=t.withFocusTimer,a=t.gridTemplate,i=t.role,l=t.customCSS,s={root:{addEventListener:this.addEventListener,removeEventListener:this.removeEventListener,getElement:this.getRootElement},API:this._API},u={onMouseDown:this.onPointerEvent,onMouseUp:this.onPointerEvent,onClick:this.onPointerEvent,onTouchStart:this.onPointerEvent,onTouchEnd:this.onPointerEvent},d={waitingTime:r,getContainer:this.getRootElement},p=c(_i,l);return e.createElement(C.Provider,{value:s},o&&e.createElement(ui,Si({},d)),e.createElement("div",Si({},u,{className:p,id:this._rootId,role:i}),a?e.createElement(vi,{template:a},n):n))},n.defaultProps={withFocusTimer:!0,focusWaitingTime:3e3},n}(e.Component);function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ki(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Pi=0,Ti=e.memo((function(t){var n=t.children,r=Ci(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[Ii]||(o[Ii]=H(e,t,n,r));return o[Ii]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(ki(t,["children"])),2),o=r[0],a=r[1];return e.useEffect((function(){return a&&Pi++,function(){a&&(0===--Pi&&(Oi()[Ii]=null))}}),[]),e.createElement(L.Provider,{value:o},n)}));Ti.displayName="DndProvider";var Ii=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function Oi(){return"undefined"!=typeof global?global:window}function Di(e){var t=null;return function(){return null==t&&(t=e()),t}}function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Mi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&Ai(t.prototype,n),r&&Ai(t,r),e}(),zi=Di((function(){return/firefox/i.test(navigator.userAgent)})),Li=Di((function(){return Boolean(window.safari)}));function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ji=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,o=[],a=0;a<r;a++)o.push(a);o.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var i,c,l=[],s=[],u=0;u<r-1;u++)i=t[u+1]-t[u],c=n[u+1]-n[u],l.push(i),s.push(c/i);for(var d=[s[0]],p=0;p<l.length-1;p++){var m=s[p],f=s[p+1];if(m*f<=0)d.push(0);else{i=l[p];var v=l[p+1],h=i+v;d.push(3*h/((h+v)/m+(h+i)/f))}}d.push(s[s.length-1]);for(var g,y=[],b=[],E=0;E<d.length-1;E++){g=s[E];var w=d[E],S=1/l[E],_=w+d[E+1]-g-g;y.push((g-w-_)*S),b.push(_*S*S)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=y,this.c3s=b}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,o=this.c2s,a=this.c3s,i=t.length-1;if(e===t[i])return n[i];for(var c,l=0,s=a.length-1;l<=s;){var u=t[c=Math.floor(.5*(l+s))];if(u<e)l=c+1;else{if(!(u>e))return n[c];s=c-1}}var d=e-t[i=Math.max(0,s)],p=d*d;return n[i]+r[i]*d+o[i]*p+a[i]*d*p}}])&&Hi(t.prototype,n),r&&Hi(t,r),e}();function Vi(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function Bi(e){return{x:e.clientX,y:e.clientY}}function Ri(e,t,n,r,o){var a,i,c,l="IMG"===(a=t).nodeName&&(zi()||!(null===(i=document.documentElement)||void 0===i?void 0:i.contains(a))),s=Vi(l?e:t),u={x:n.x-s.x,y:n.y-s.y},d=e.offsetWidth,p=e.offsetHeight,m=r.anchorX,f=r.anchorY,v=function(e,t,n,r){var o=e?t.width:n,a=e?t.height:r;return Li()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(l,t,d,p),h=v.dragPreviewWidth,g=v.dragPreviewHeight,y=o.offsetX,b=o.offsetY,E=0===b||b;return{x:0===y||y?y:new ji([0,.5,1],[u.x,u.x/d*h,u.x+h-d]).interpolate(m),y:E?b:(c=new ji([0,.5,1],[u.y,u.y/p*g,u.y+g-p]).interpolate(f),Li()&&l&&(c+=(window.devicePixelRatio-1)*g),c)}}var Fi,Ui="__NATIVE_FILE__",Wi="__NATIVE_URL__",Ki="__NATIVE_TEXT__",$i=Object.freeze({__proto__:null,FILE:Ui,URL:Wi,TEXT:Ki});function Gi(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=(Zi(Fi={},Ui,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),Zi(Fi,Wi,{exposeProperties:{urls:function(e,t){return Gi(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),Zi(Fi,Ki,{exposeProperties:{text:function(e,t){return Gi(e,t,"")}},matchesTypes:["Text","text/plain"]}),Fi);function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&Yi(t.prototype,n),r&&Yi(t,r),e}();function Qi(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Xi).filter((function(e){return Xi[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ec=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&Ji(t.prototype,n),r&&Ji(t,r),e}();function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach((function(t){rc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ac=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&Vi(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=Bi(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,a=Qi(o);if(r.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var i=r.monitor.getSourceId(),c=r.sourceNodes.get(i),l=r.sourcePreviewNodes.get(i)||c;if(l){var s=r.getCurrentSourcePreviewNodeOptions(),u=Ri(c,l,n,{anchorX:s.anchorX,anchorY:s.anchorY},{offsetX:s.offsetX,offsetY:s.offsetY});o.setDragImage(l,u.x,u.y)}}try{null==o||o.setData("application/json",{})}catch(e){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(a)r.beginDragNativeItem(a);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=Qi(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,zi()||r.actions.hover(t,{clientOffset:Bi(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:Bi(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;(r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem())&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:Bi(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new ec(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Mi(this.isNodeInDocument)}var t,n,r;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},a=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",a),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},a=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return nc({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return nc({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys($i).some((function(t){return $i[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new qi(Xi[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&oc(t.prototype,n),r&&oc(t,r),e}(),ic=function(e,t){return new ac(e,t)},cc=function(t){var n=t.dialogs,r=t.id,o=void 0===r?"default":r,a=V((function(e){return e.dialogs[o]||{}})).$callstack,i=void 0===a?[]:a,c=B.of(o),l=R("messagebox").closeDialog;return e.createElement(F.Provider,{value:{containerId:o}},i.map((function(t){return(n[t]||function(t){return function(n){return e.createElement(Vr,{open:!0,title:"Error",message:"Dialog "+t+" not found",controls:["ok"],onClose:l,key:n})}}(t))(t,c.getProps(t))})).reverse())},lc=function(t){var n=t.title,r=t.text,o=t.choices,a=t.onCancel,i=t.noCancel,c=t.level,l=R("confirm"),s=l.dispatch,u=l.closeDialog,d=function(){a&&s(a),u()},p={align:"right",buttons:(o||[]).map((function(e){var t=e.label,n=e.primary,r=e.action;return{accent:n?"full":"none",text:t,onClick:function(){u(),r&&s(r)}}}))};if(!i){var m={accent:"none",text:U("dialogs.cancel"),onClick:d};p.buttons=W(p.buttons,[m])}var f={open:!0,title:n,controls:p,level:c,customCSS:"gc-message-box",shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!i,hideCloseButton:i,onClose:d};return e.createElement(h,j({},f),e.createElement("div",{className:"gc-modal__message"},r))},sc=function(t){var n=t.name,r=t.expr,o=$(G({item:{type:"value",label:n,expr:r}}),3),a=o[1],i=o[2];e.useEffect((function(){i(Z(),{captureDraggingState:!0})}),[]);var l=c(Y,X("comm-value"));return e.createElement("div",{className:l,ref:a},e.createElement("div",{className:q},e.createElement(b,{icon:p(Q)}),e.createElement("span",null,n)))},uc=function(){return e.createElement(e.Fragment,null,K().map((function(t){var n=t.Name,r=t.Expr;return e.createElement(sc,{key:n,name:n,expr:"="+r})})))},dc=function(e,t){return U("dataPanel."+e,t)},pc=function(t){var n,r,a,i,l,s=t.dataSource,u=t.dataSource.Name,d=t.onDelete,m=t.onEdit,f=t.onAddDataSet,v=t.customAdd,h=$([d,m,f].map((function(e){return"function"==typeof e})),3),g=h[0],y=h[1],E=h[2],w=(r=null===(n=s.ConnectionProperties)||void 0===n?void 0:n.DataProvider,a=s.$dataProvider,i=ce(r),l=ce(a),r&&a&&r!==a?i+" "+l:i||l||""),S={block:!0,size:"small",rounded:!0,background:"transparent"},_=c(Y,X("data-source"));return e.createElement("div",{className:_},e.createElement("div",{className:q},e.createElement(b,{icon:p(J)}),e.createElement("div",{className:ee},e.createElement("span",{className:te,title:u},u),w&&e.createElement("span",{className:ne},w)),e.createElement("div",{className:re},g&&e.createElement(o,j({},S,{icon:p(oe),onClick:d})),y&&e.createElement(o,j({},S,{icon:p(ae),title:dc("editDataSource"),onClick:m})),v&&v,E&&e.createElement(o,j({},S,{icon:p(ie),title:dc("addDataSet"),onClick:f})))))},mc=function(e,t){return U("dataPanel."+e,t)};var fc,vc=function(t){var n,r,a=t.parameter,i=t.index,l=t.readonly,s=t.onClick,u=t.onDelete,d=t.onMoveUp,m=t.onMoveDown,f=$(G({item:{type:"value",label:a.Name,expr:(n="Parameters",r=a.Name,r.includes(".")?"="+n+'.Item("'+r+'").Value':"="+n+"!"+r+".Value")}}),3),v=f[1],h=f[2];e.useEffect((function(){h(Z(),{captureDraggingState:!0})}),[]);var g,y=!l&&le(),E={block:!0,size:"small",rounded:!0,background:"transparent"},w=c(Y,X("parameter"));return e.createElement("div",{className:w,ref:v},e.createElement("div",{className:q,onClick:function(){y&&s&&s(a,i)}},e.createElement(b,{icon:p(se)}),e.createElement("div",{className:ee},e.createElement("span",{className:te,title:a.Name},a.Name),e.createElement("span",{className:ne},(g=a.DataType,ue(g,de.reportparameter_datatype)))),y&&e.createElement("div",{className:re},e.createElement(o,j({},E,{icon:p(oe),onClick:function(e){e.stopPropagation(),u&&u(i)}})),e.createElement(o,j({},E,{disabled:!m,icon:p(pe),title:mc("moveParameterDown"),onClick:function(e){e.stopPropagation(),m&&m(i)}})),e.createElement(o,j({},E,{disabled:!d,icon:p(me),title:mc("moveParameterUp"),onClick:function(e){e.stopPropagation(),d&&d(i)}})))))},hc=function(t){var n=t.reportParameters,r=t.boundParameters,o=t.onClick,a=t.onDelete,i=t.onMoveUp,c=t.onMoveDown;return e.createElement(e.Fragment,null,0===n.length&&e.createElement("span",{className:fe},U("dataPanel.noParameters")),n.map((function(t,l){var s={parameter:t,index:l,readonly:r.some((function(e){return e===t.Name})),onClick:o,onDelete:a,onMoveUp:l>0?i:null,onMoveDown:l<n.length-1?c:null};return e.createElement(vc,j({key:t.Name},s))})))},gc=["Home","File","Insert","Parameters"],yc=function(e){return ge(e)||ye(e)||be(e)},bc=function(e){return W(e).sort((function(e,t){return(e||"").localeCompare(t||"")}))},Ec=function(e,t,n){if(0===(e||[]).length)return[];if(e.some((function(e){return e.Type!==ve.textbox})))return[];var r=t||{},o=r.NamedItems,a=r.DataSets,i=o||[],c=a||[],l=[],s=e.map((function(e){return function(e,t){var n=t.find((function(t){return e.Name===t.name&&t.type===ve.textbox})),r=n&&t.filter((function(e){return(e.level===n.level||(e.level===n.level-1||e.level===n.level-2)&&e.leftKey<=n.leftKey&&e.rightKey>=n.rightKey)&&yc(e.type)}))||[],o=r.length>0&&t.filter((function(e){return e.level<=n.level&&"grouping"===e.type&&e.name&&0!==r.filter((function(t){return t.level===e.level-1&&t.leftKey<=e.leftKey&&t.rightKey>=e.rightKey})).length}))||[],a=bc(r.map((function(e){return e.name}))),i=bc(o.map((function(e){return e.name})));return W(a,i)}(e,i)})),u=he.intersection.apply(he,W(s));l.push.apply(l,W(u));var d=(0===l.length?c:c.filter((function(e){return e.Name===n.dataSetName}))).map((function(e){return e.Name}));return l.push.apply(l,W(bc(d))),l},wc=function(e,t){if(0===(e||[]).length)return[];if(e.some((function(e){return e.Type!==ve.textbox})))return[];var n=(t||{}).NamedItems||[],r=[],o=e.map((function(e){return function(e,t){var n=t.find((function(t){return e.Name===t.name&&t.type===ve.textbox})),r=n&&t.filter((function(e){return e.level===n.level-1&&e.leftKey<=n.leftKey&&e.rightKey>=n.rightKey&&yc(e.type)}))[0],o=r&&t.filter((function(e){return e.level===n.level&&"grouping"===e.type&&e.name})).filter((function(e){return e.level>r.level&&r.leftKey<=e.leftKey&&r.rightKey>=e.rightKey}))||[],a=(r?[r]:[]).map((function(e){return e.name})),i=bc(o.map((function(e){return e.name})));return W(a,i)}(e,n)})),a=he.intersection.apply(he,W(o));return r.push.apply(r,W(a)),r},Sc="parameters",_c="File",xc="Home",Cc="Insert",Nc="Parameters",kc="Home",Pc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"#fff",d:"M7 20.5c-.275 0-.5-.225-.5-.5V8c0-.276.225-.5.5-.5h12c.275 0 .5.224.5.5v12c0 .275-.225.5-.5.5z"}),e.createElement("path",{className:"gc-icon-color--text",d:"M19 8v12H7V8zm0-1H7c-.553 0-1 .446-1 1v12c0 .555.447 1 1 1h12c.553 0 1-.445 1-1V8c0-.554-.447-1-1-1z"}),e.createElement("path",{className:"gc-icon-color--text",opacity:".7",d:"M4 5h13c0-.554-.447-1-1-1H4c-.553 0-1 .446-1 1v12c0 .555.447 1 1 1v-1z"}),e.createElement("g",{fill:"#b3b3b3"},e.createElement("path",{d:"M9 11h8v1H9zM9 13h8v1H9zM9 15h8v1H9zM9 17h8v1H9z"}))),Tc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{className:"gc-icon-color--text"},e.createElement("path",{d:"M4.707 5H4V6.707l5.646 5.647.5-.5.708-.708z"}),e.createElement("path",{d:"M18.293 5l-6.146 6.146-4.27 4.27C7.482 15.154 7.009 15 6.5 15 5.119 15 4 16.119 4 17.5S5.119 20 6.5 20 9 18.881 9 17.5c0-.51-.154-.982-.416-1.377l4.27-4.27.5.5L19 6.707V5zM6.5 19c-.828 0-1.5-.672-1.5-1.5S5.672 16 6.5 16s1.5.672 1.5 1.5S7.328 19 6.5 19z"}),e.createElement("path",{d:"M16.5 15c-.51 0-.982.154-1.377.416l-2.27-2.27-.707.707 2.27 2.27c-.262.395-.416.867-.416 1.377 0 1.381 1.119 2.5 2.5 2.5s2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5zm0 4c-.828 0-1.5-.672-1.5-1.5s.672-1.5 1.5-1.5 1.5.672 1.5 1.5-.672 1.5-1.5 1.5z"}))),Ic=e.createElement("svg",{viewBox:"0 0 24 24"},e.createElement("path",{className:"gc-icon-color--text",d:"M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4z"})),Oc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"#fff",d:"M18.5 8.5h-14V6.664c.011-.043.084-.164.218-.164h13.567c.134 0 .206.121.215.143zM17.5 20.409c-.011.023-.084.091-.22.091H5.72c-.135 0-.209-.067-.218-.078L5.5 8.5h11.998z"}),e.createElement("path",{className:"gc-icon-color--text",d:"M19 7.071C19 6.479 18.463 6 17.801 6H14v-.929C14 4.479 13.463 4 12.801 4H10.2C9.537 4 9 4.479 9 5.071V6H5.2C4.538 6 4 6.479 4 7.071V9h1v10.929C5 20.52 5.537 21 6.2 21h10.601c.662 0 1.199-.48 1.199-1.071V9h1zM10.2 5h2.601c.124 0 .191.061.199.071V6H9.999l-.001-.918c.009-.021.078-.082.202-.082zm6.802 14.917c-.01.021-.077.083-.201.083H6.2c-.124 0-.192-.062-.2-.071L5.998 9H17zM18 8H4.999v-.917C5.007 7.061 5.076 7 5.2 7h12.601c.124 0 .191.061.199.071z"}),e.createElement("g",{fill:"#b3b3b3"},e.createElement("path",{d:"M7 10h1v1H7zM7 12h1v1H7zM7 14h1v1H7zM7 16h1v1H7zM7 18h1v1H7zM9 11h1v1H9zM9 13h1v1H9zM9 15h1v1H9zM9 17h1v1H9zM11 10h1v1h-1zM11 12h1v1h-1zM11 14h1v1h-1zM11 16h1v1h-1zM11 18h1v1h-1zM13 11h1v1h-1zM13 13h1v1h-1zM13 15h1v1h-1zM13 17h1v1h-1zM15 10h1v1h-1zM15 12h1v1h-1zM15 14h1v1h-1zM15 16h1v1h-1zM15 18h1v1h-1z"}))),Dc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--stroke-accent",d:"M12 8.5v7M5 15.5v-2.045c0-1.08.875-1.955 1.955-1.955h10.09c1.08 0 1.955.875 1.955 1.955V15.5",fill:"none"}),e.createElement("circle",{className:"gc-icon-color--stroke-text",cx:"12",cy:"6.5",r:"2",fill:"none"}),e.createElement("circle",{className:"gc-icon-color--stroke-text",cx:"5",cy:"17.5",r:"2",fill:"none"}),e.createElement("circle",{className:"gc-icon-color--stroke-text",cx:"12",cy:"17.5",r:"2",fill:"none"}),e.createElement("circle",{className:"gc-icon-color--stroke-text",cx:"19",cy:"17.5",r:"2",fill:"none"})),Ac=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M19 11.5s-2 2.17-2 3.5a2 2 0 0 0 2 2 2 2 0 0 0 2-2c0-1.33-2-3.5-2-3.5M5.21 10L10 5.21 14.79 10m1.77-1.06L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.56-.59 1.53 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.59.59-1.56 0-2.12z"})),Mc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M9.62 12L12 5.67 14.37 12M11 3L5.5 17h2.25l1.12-3h6.25l1.13 3h2.25L13 3h-2z"})),zc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M14.8 8l.2-1h-4.8L10 8h1.723l-2.001 9H8.2L8 18h4.8l.2-1h-1.722l1.999-9z"})),Lc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M7 7h4.565c.487 0 .913.074 1.281.221.366.146.674.346.916.598.243.252.428.548.551.887.125.338.187.694.187 1.068 0 .182-.019.376-.058.583-.037.207-.107.414-.207.621-.101.207-.241.407-.422.599-.183.191-.416.358-.701.5.172.07.367.161.586.272.22.111.425.264.615.461s.354.453.485.767c.136.312.202.7.202 1.165 0 .445-.076.863-.229 1.258s-.377.74-.674 1.037c-.296.299-.666.533-1.109.705s-.951.258-1.523.258H7zm1.402 4.651h2.533c.668 0 1.195-.126 1.583-.378.387-.253.578-.718.578-1.395 0-.516-.162-.912-.486-1.189s-.877-.416-1.659-.416H8.402zm0 5.076h2.991c.735 0 1.287-.182 1.653-.545.367-.363.552-.854.552-1.47 0-.384-.074-.696-.223-.938s-.337-.433-.564-.567c-.229-.138-.49-.229-.781-.272-.291-.045-.579-.068-.866-.068H8.402z"})),Hc=e.createElement("svg",{viewBox:"0 0 24 24"},e.createElement("path",{className:"gc-icon-color--text",d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})),jc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",opacity:".7",d:"M7 16c.551 0 1 .449 1 1v3c0 .553-.449 1-1 1H4c-.551 0-1-.447-1-1v-3c0-.551.449-1 1-1zm0-1H4c-1.104 0-2 .896-2 2v3c0 1.105.896 2 2 2h3c1.104 0 2-.895 2-2v-3c0-1.104-.896-2-2-2z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M12 6H5v7h1V7h6zM6 18v-1H5v1H4v1h1v1h1v-1h1v-1z"}),e.createElement("path",{className:"gc-icon-color--text",opacity:".7",d:"M19 4c.551 0 1 .449 1 1v3c0 .553-.449 1-1 1h-3c-.551 0-1-.447-1-1V5c0-.551.449-1 1-1zm0-1h-3c-1.104 0-2 .896-2 2v3c0 1.105.896 2 2 2h3c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M18 6V5h-1v1h-1v1h1v1h1V7h1V6z"}),e.createElement("path",{className:"gc-icon-color--text",d:"M21 13h-9v9h9zm-8 1h3v3h-3zm3 7h-3v-3h3zm4 0h-3v-3h3zm0-4h-3v-3h3z"})),Vc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"white",d:"M21.553 5.17L13.126.305c-.702-.406-1.566-.406-2.268 0L2.431 5.17c-.701.405-1.134 1.154-1.134 1.965v9.73c0 .811.433 1.56 1.134 1.965l8.427 4.865c.351.203.743.304 1.134.304.392 0 .783-.101 1.134-.304l8.427-4.865c.703-.405 1.135-1.154 1.135-1.965v-9.73c0-.811-.432-1.56-1.135-1.965m-9.329 8.613l-4.557 3.519c-.075.057-.164.086-.253.086-.09 0-.178-.028-.253-.085-.149-.115-.203-.316-.13-.49l4.574-10.928c.064-.155.215-.255.382-.255s.319.1.383.255l1.458 3.483v.001c.001 0 .017.035.042.098.081.213.249.761.165 1.471-.043.37-.157.785-.385 1.22-.277.526-.723 1.081-1.426 1.625m4.627 3.507c-.077.065-.173.098-.268.098-.078 0-.154-.02-.223-.064l-1.891-1.201c-.601-.376-.83-.739-.88-1.05-.004-.024-.007-.047-.009-.069-.04-.503.376-.85.376-.85l.964-.799c.1-.084.235-.115.362-.084.128.031.233.12.284.241l1.398 3.3c.071.167.025.361-.113.478"})),Bc=e.createElement("svg",{viewBox:"0 0 24 24"},e.createElement("path",{className:"gc-icon-color--text",d:"M3,7V13A9,9 0 0,0 12,22A9,9 0 0,0 21,13V7H17V13A5,5 0 0,1 12,18A5,5 0 0,1 7,13V7M17,5H21V2H17M3,5H7V2H3"})),Rc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M7,10L12,15L17,10H7Z"})),Fc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"#fff",d:"M15.996 4H5c-.553 0-1 .448-1 1v15c0 .553.447 1 1 1h13c.553 0 1-.447 1-1V7.004z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M7 8h1v3H7zM9 6h1v5H9zM11 7h1v4h-1z"}),e.createElement("path",{fill:"#969696",d:"M7 12h9v1H7zM7 14h8v1H7zM7 16h6v1H7zM7 18h5v1H7z"}),e.createElement("path",{className:"gc-icon-color--text",opacity:".3",d:"M15.996 4H5c-.553 0-1 .541-1 1.092v15c0 .553.447.908 1 .908h7.5v-1H5V5h10v3h3v6.5h1V7.004zM16 7.093v-1.52l1.5 1.521H16z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M18 18v-2h-2v2h-2v2h2v2h2v-2h2v-2z"})),Uc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"#fff",d:"M17 4h-4.5L10 6H4c-1.104 0-2 .896-2 2v11c0 1.105.896 2 2 2h13c1.104 0 2-.895 2-2V6c0-1.104-.896-2-2-2z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M19 10V6c0-1.104-.896-2-2-2h-4.5L10 6H4c-1.104 0-2 .896-2 2v11c0 1.105.896 2 2 2h13c.418 0 .745-.096 1.014-.285.588-.348.986-.983.986-1.715l2-7c.25-1.016-.896-2-2-2zM3 8c0-.551.449-1 1-1h6.5L13 5h4c.551 0 1 .449 1 1v4H6c-1.104 0-1.735 1.006-2 2l-1 3.5z"})),Wc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--accent",d:"M17 5h-1v3H5V5H4c-.553 0-1 .446-1 1v12c0 .555.447 1 1 1h6v-9h8V6c0-.554-.447-1-1-1z"}),e.createElement("path",{className:"gc-icon-color--text",d:"M13.315 5c-.414-1.162-1.514-2-2.815-2s-2.401.838-2.816 2H6v2h9V5zM10.5 4c.737 0 1.375.405 1.722 1H8.778c.347-.595.985-1 1.722-1z"}),e.createElement("path",{fill:"#fff",d:"M16.496 11.5H12.5c-.553 0-1 .447-1 1v8c0 .553.447 1 1 1h6c.553 0 1-.447 1-1v-5.996z"}),e.createElement("path",{className:"gc-icon-color--text",d:"M16.996 11H12c-.553 0-1 .541-1 1.092v9c0 .553.447.908 1 .908h7c.553 0 1-.355 1-.908v-7.088zM17 12.572l1.5 1.521H17zM19 21h-7v-9h4v3h3z"})),Kc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M16 12l-9 7V6z"})),$c=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M10.928 10.5c1.833 0 3.506.666 4.816 1.756L19 9v7h-7l3.043-3.043c-1.127-.909-2.557-1.457-4.115-1.457-2.899 0-5.361 1.889-6.231 4.5H3.652c.905-3.17 3.821-5.5 7.276-5.5z"})),Gc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M18 4h-1v9H6V4H4c-.552 0-1 .448-1 1v15c0 .553.448 1 1 1h15c.553 0 1-.447 1-1V6zm-6.5 15.5c-1.104 0-2-.896-2-2s.896-2 2-2 2 .896 2 2-.896 2-2 2z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M16 12V4H7v8z"})),Zc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M18 4h-1v9H6V4H4c-.552 0-1 .448-1 1v15c0 .553.448 1 1 1h15c.553 0 1-.447 1-1V6zm-6.5 15.5c-1.104 0-2-.896-2-2s.896-2 2-2 2 .896 2 2-.896 2-2 2z"}),e.createElement("path",{fill:"#fff",d:"M16 12V4H7v8zM9 6h5v1H9zm0 3h5v1H9z"})),Xc=e.createElement("svg",{viewBox:"0 0 24 24"},e.createElement("path",{className:"gc-icon-color--text",d:"M12 8a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2m-2 12c-.25 0-.46-.18-.5-.42l-.37-2.65c-.63-.25-1.17-.59-1.69-.99l-2.49 1.01c-.22.08-.49 0-.61-.22l-2-3.46c-.13-.22-.07-.49.12-.64l2.11-1.66L4.5 12l.07-1-2.11-1.63c-.19-.15-.25-.42-.12-.64l2-3.46c.12-.22.39-.31.61-.22l2.49 1c.52-.39 1.06-.73 1.69-.98l.37-2.65c.04-.24.25-.42.5-.42h4c.25 0 .46.18.5.42l.37 2.65c.63.25 1.17.59 1.69.98l2.49-1c.22-.09.49 0 .61.22l2 3.46c.13.22.07.49-.12.64L19.43 11l.07 1-.07 1 2.11 1.63c.19.15.25.42.12.64l-2 3.46c-.12.22-.39.31-.61.22l-2.49-1c-.52.39-1.06.73-1.69.98l-.37 2.65c-.04.24-.25.42-.5.42h-4m1.25-18l-.37 2.61c-1.2.25-2.26.89-3.03 1.78L5.44 7.35l-.75 1.3L6.8 10.2c-.4 1.17-.4 2.44 0 3.6l-2.12 1.56.75 1.3 2.43-1.04c.77.88 1.82 1.52 3.01 1.76l.37 2.62h1.52l.37-2.61c1.19-.25 2.24-.89 3.01-1.77l2.43 1.04.75-1.3-2.12-1.55c.4-1.17.4-2.44 0-3.61l2.11-1.55-.75-1.3-2.41 1.04c-.77-.89-1.83-1.53-3.03-1.77L12.75 4h-1.5z"})),Yc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"#727272"},e.createElement("path",{d:"M3 6h17v1H3zM6 10h11v1H6zM3 14h17v1H3zM6 18h11v1H6z"}))),qc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M3 10h17v1H3zM3 18h17v1H3z",fill:"#727272"}),e.createElement("path",{d:"M0 0v24h24V0z",fill:"none"}),e.createElement("path",{d:"M3 6h17v1H3zM3 14h17v1H3z",fill:"#727272"})),Qc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"#727272"},e.createElement("path",{d:"M3 6h17v1H3zM3 10h12v1H3zM3 14h17v1H3zM3 18h12v1H3z"}))),Jc=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"#727272"},e.createElement("path",{d:"M3 6h17v1H3zM8 10h12v1H8zM3 14h17v1H3zM8 18h12v1H8z"}))),el=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M16 7v6.945c0 .551-.092 1.069-.274 1.555-.185.487-.466.916-.844 1.286-.378.373-.856.667-1.435.886-.577.219-1.261.328-2.049.328-.767 0-1.429-.107-1.986-.32-.557-.214-1.014-.5-1.371-.854-.358-.357-.62-.767-.788-1.229-.169-.461-.253-.944-.253-1.445V7h1.545v6.753c0 .58.086 1.06.26 1.438.173.378.402.682.686.906.284.227.599.386.946.479.347.094.694.141 1.041.141.357 0 .71-.045 1.064-.133.352-.088.67-.244.953-.465s.516-.521.693-.9c.179-.378.269-.856.269-1.437V7zM6 19h11v1H6z"})),tl=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M19 3H4c-1.104 0-2 .896-2 2v15c0 1.105.896 2 2 2h15c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2z",fill:"#fff"}),e.createElement("g",{fill:"#b3b3b3"},e.createElement("path",{d:"M5 16h13v1H5zM5 18h13v1H5zM5 14h13v1H5z"})),e.createElement("path",{className:"gc-icon-color--text",d:"M4 21c-.551 0-1-.449-1-1V5c0-.553.449-1 1-1h15c.551 0 1 .447 1 1v15c0 .551-.449 1-1 1zm0 1h15c1.104 0 2-.896 2-2V5c0-1.105-.896-2-2-2H4c-1.104 0-2 .895-2 2v15c0 1.104.896 2 2 2z"})),nl=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M19 3H4c-1.104 0-2 .896-2 2v15c0 1.105.896 2 2 2h15c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2z",fill:"#fff"}),e.createElement("g",{fill:"#b3b3b3"},e.createElement("path",{d:"M5 12h13v1H5zM5 10h13v1H5zM5 14h13v1H5z"})),e.createElement("path",{className:"gc-icon-color--text",d:"M19 4c.551 0 1 .449 1 1v15c0 .553-.449 1-1 1H4c-.551 0-1-.447-1-1V5c0-.551.449-1 1-1zm0-1H4c-1.104 0-2 .896-2 2v15c0 1.105.896 2 2 2h15c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2z"})),rl=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M19 3H4c-1.104 0-2 .896-2 2v15c0 1.105.896 2 2 2h15c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2z",fill:"#fff"}),e.createElement("g",{fill:"#b3b3b3"},e.createElement("path",{d:"M5 8h13v1H5zM5 6h13v1H5zM5 10h13v1H5z"})),e.createElement("path",{className:"gc-icon-color--text",d:"M19 4c.551 0 1 .449 1 1v15c0 .553-.449 1-1 1H4c-.551 0-1-.447-1-1V5c0-.551.449-1 1-1zm0-1H4c-1.104 0-2 .896-2 2v15c0 1.105.896 2 2 2h15c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2z"})),ol=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:"#fff",d:"M18.605 3.5H4.395C3.348 3.5 2.5 4.35 2.5 5.395v14.21c0 1.047.848 1.896 1.895 1.896h14.21c1.045 0 1.896-.849 1.896-1.896V5.395C20.5 4.35 19.65 3.5 18.605 3.5z"}),e.createElement("path",{className:"gc-icon-color--accent",d:"M18.998 3h-15c-1.104 0-2 .891-2 1.987V6.5h19V4.987c.001-1.096-.895-1.987-2-1.987z"}),e.createElement("path",{className:"gc-icon-color--text",opacity:".7",d:"M19 3H4c-1.104 0-2 .896-2 2v15c0 1.105.896 2 2 2h15c1.104 0 2-.895 2-2V5c0-1.104-.896-2-2-2zM4 4h15c.551 0 1 .449 1 1v.501H3V5c0-.551.449-1 1-1zm15 17H4c-.551 0-1-.447-1-1V6.501h17V20c0 .553-.449 1-1 1z"}),e.createElement("path",{className:"gc-icon-color--text",d:"M11.5 9C9.019 9 7 11.02 7 13.501 7 15.98 9.019 18 11.5 18c2.48 0 4.5-2.02 4.5-4.499C16 11.02 13.98 9 11.5 9zm0 1c.784 0 1.502.269 2.087.707l-4.88 4.88C8.269 15.003 8 14.285 8 13.501 8 11.57 9.57 10 11.5 10zm0 7c-.784 0-1.502-.27-2.086-.706l4.88-4.88c.436.584.706 1.302.706 2.087C15 15.432 13.43 17 11.5 17z"})),al=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M12.072 10.5c-1.833 0-3.506.666-4.816 1.756L4 9v7h7l-3.043-3.043c1.127-.909 2.558-1.457 4.115-1.457 2.899 0 5.361 1.889 6.231 4.5h1.045c-.905-3.17-3.821-5.5-7.276-5.5z"})),il=e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{className:"gc-icon-color--text",d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z"})),cl=function(t){var n=t.title,r=t.subtitle,o=t.badge,a=t.readOnlyDocument,i=t.menuItemId,c=t.hiddenMenuItems,l=void 0===c?{}:c,s=t.onMenuItemSelect,u=t.controlItems,d=t.actions,m=t.onUndo,f=t.onRedo,v=t.onCreate,h=t.onOpen,g=t.onSave,y=t.onSaveAs,b=t.onPreview,E=t.getString,w=[{type:"button",dataAid:"undo-button",icon:p(al),onClick:m,title:E("appActions.undo"),disabled:!m},{type:"button",dataAid:"redo-button",icon:p($c),onClick:f,title:E("appActions.redo"),disabled:!f},v&&{type:"splitter"},v&&{type:"button",dataAid:"create-button",icon:p(Fc),onClick:v,title:E("appActions.new")},h&&{type:"splitter"},h&&{type:"button",dataAid:"open-button",icon:p(Uc),onClick:h,title:E("appActions.open")},g&&{type:"splitter"},g&&{type:"group",items:[{type:"button",dataAid:"save-button",icon:p(Gc),onClick:g,title:E("appActions.save"),disabled:a},y&&{type:"dropdown",dataAid:"save-as-dropdown",menuWidth:"auto",hiddenChevron:!0,icon:p(Rc),items:[{type:"button",icon:p(Zc),text:E("appActions.saveAs"),value:y}],onSelect:function(e){return e()}}]},b&&{type:"splitter"},b&&{type:"button",dataAid:"preview-button",icon:p(Kc),text:E("menu.report.preview"),onClick:b}],S=function(e){return E("appBar.design."+e)},_=d.filter((function(e){return"group"===e.type})).reverse(),x=W([l.file?null:{id:_c,text:S("fileLabel")},{id:xc,text:S("homeLabel")},l.insert?null:{id:Cc,text:S("insertLabel")}],_.map((function(e){var t=e.text;return{id:t,text:t}})),[l.parameters?null:{id:Nc,text:S("parameters")}]).filter((function(e){return!!e})),C=x.some((function(e){return e.id===i}))?i:kc,N={id:"main_appbar",dataAid:"main-app-bar",size:"small",title:n,subtitle:r,badge:o,mainItems:w,controlItems:u,menuItems:x,selectedMenuItemId:C,onMenuItemSelect:s};return e.createElement(xr,j({},N))},ll={show:function(e){return Ee.action(we,{location:e})},hide:function(){return Ee.action(Se)}},sl=function(e,t,n,r,o){return void 0===n&&(n="default"),void 0===o&&(o=!1),{type:"button",text:e,icon:t,category:n,enabled:o,action:r}},ul=function(e,t,n,r,o){return void 0===t&&(t=void 0),void 0===n&&(n="default"),void 0===o&&(o=!1),{type:"numberEditorButton",text:e,icon:t,category:n,enabled:o,getAction:r}},dl=function(e,t){return{type:"separator",text:e,category:t}},pl=function(e,t,n,r){return void 0===n&&(n="default"),void 0===r&&(r=[]),{type:"group",icon:t,text:e,category:n,actions:r,enabled:!0}},ml=function(e){var t=e.filter((function(e){return e})).map((function(e){return e.category})).reduce((function(e,t){return-1===e.findIndex((function(e){return e===t}))&&e.push(t),e}),[]),n=[];return t.forEach((function(t,r){"default"!==t&&0!==r&&n.push(dl(t,t)),e.filter((function(e){return e&&e.category===t})).forEach((function(e){return n.push(e)}))})),n},fl=function(e,t){switch(e.type){case"group":return(e.actions||[]).reduce((function(t,n){return t.concat(fl(n,e.text))}),[]);case"dropdown":return e.actions&&[pl(e.contextMenuTitle||e.text,e.icon,e.category||t,ml(e.actions.reduce((function(t,n){return t.concat(fl(n,e.text))}),[])))]||[];case"numberEditorButton":return[ul(e.contextMenuTitle||e.text,e.icon,e.category||t,e.getAction,e.enabled)];case"button":case"cut":case"copy":case"paste":case"delete":return[sl(e.contextMenuTitle||e.text,e.icon,e.category||t,e.action,e.enabled)];case"separator":return[dl(e.text||"",e.category||t||"")]}return null},vl=function(e){return e.stopPropagation()},hl=function(t){var n=t.item,r=t.onClick,o={className:"context-dropdown-button"+(n.enabled?"":" disabled"),onClick:n.enabled?r:vl,onMouseDown:vl,"data-aid":n.text,title:n.text};return e.createElement("div",j({},o),n.icon&&"string"==typeof n.icon?e.createElement("i",{className:n.icon}):e.createElement(b,{icon:n.icon,customCSS:"wd-svg"}),e.createElement("span",{className:"title"},n.text),n.tooltip&&e.createElement("span",{className:"hint"},n.tooltip))},gl=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={count:1},e.handleButtonClick=function(t){var n=e.props,r=n.dispatch,o=n.item,a=e.state.count;r(ll.hide()),r(o.getAction(a||1)),vl(t)},e.handleIncrease=function(t){var n=e.state.count;e.setState({count:Math.min(10,(n||1)+1)}),vl(t)},e.handleDecrease=function(t){var n=e.state.count;e.setState({count:Math.max(1,(n||2)-1)}),vl(t)},e.handleCountChange=function(t){var n=t.target.value;if(""===n)e.setState({count:void 0});else{var r=parseInt(n,10);if(Number.isNaN(r))return;e.setState({count:Math.min(10,Math.max(1,r))})}},e}return _e(n,t),n.prototype.render=function(){var t=this.props.item,n=function(t,n){var r={icon:p(n),onClick:t,size:"small",background:"transparent",customCSS:"context-dropdown-number-editor-component-command-button"};return e.createElement(o,j({},r))},r={className:"context-dropdown-number-editor-component-value-input",value:this.state.count,onChange:this.handleCountChange,onKeyDown:vl,onClick:vl,onContextMenu:vl};return e.createElement("div",{className:"context-dropdown-number-editor-button",onClick:vl,onMouseDown:vl},e.createElement(hl,{item:t,onClick:this.handleButtonClick}),t.enabled&&e.createElement("div",{className:"context-dropdown-number-editor-component"},n(this.handleDecrease,Ce),e.createElement("input",j({},r)),n(this.handleIncrease,Ne)))},n}(e.Component),yl=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getDropDownDirection=function(){var t=e.props,n=t.item,r=t.approximateTop,o=t.maxBottom;return r>=0&&o>=0&&r+30*n.actions.length>o?" context-dropdown-level-direction-up":""},e.handleButtonClick=function(t){var n=e.props,r=n.item,o=n.dispatch;o(ll.hide()),o(r.action),vl(t)},e}return _e(n,t),n.prototype.render=function(){var t=this,r=this.props,o=r.item,a=r.dispatch;switch(o.type){case"numberEditorButton":return e.createElement(gl,{item:o,dispatch:a});case"button":return e.createElement(hl,{item:o,onClick:this.handleButtonClick});case"separator":return o.text&&e.createElement("div",{className:"context-dropdown-separator-container",onClick:vl,onMouseDown:vl},e.createElement("div",{className:"context-dropdown-separator-line"}),e.createElement("div",{className:"context-dropdown-separator-text"},o.text))||e.createElement("div",{className:"context-dropdown-divider"});case"group":if(!o.actions)return null;var i=o.actions.findIndex((function(e){return"separator"!==e.type&&e.enabled}))>=0,c=this.props.leftSideLevels,l=p(xe,{rotate:"180",size:"small"}),s=o.icon;return e.createElement("div",{className:"context-dropdown-group"},e.createElement("div",{className:"context-dropdown-button"+(i?"":" disabled"),onClick:vl,onMouseDown:vl,"data-aid":o.text},s&&"string"==typeof s?e.createElement("i",{className:s}):e.createElement(b,{icon:s,customCSS:"wd-svg"}),e.createElement("span",{className:"title"},o.text),e.createElement(b,{icon:l,customCSS:"wd-svg group-icon"})),i&&e.createElement("div",{className:"context-dropdown-level"+this.getDropDownDirection()+(c?" context-dropdown-level-direction-left":"")},o.actions.map((function(r,o){var a=j(j({},t.props),{item:r});return e.createElement(n,j({key:o},a))}))))}return null},n}(e.Component),bl=["mousedown","click","dragstart"],El=function(t){var n=t.actions,r=t.location,o=t.visible,a=t.dispatch,i=$(e.useState({top:0,left:0,leftSideLevels:!1}),2),c=i[0],l=c.top,s=c.left,u=c.leftSideLevels,d=i[1],p=e.useRef(null);e.useEffect((function(){var e=function(){o&&a(ll.hide())};return bl.forEach((function(t){window.addEventListener(t,e)})),function(){bl.forEach((function(t){window.removeEventListener(t,e)}))}}),[o]),e.useEffect((function(){var e=r.x,t=r.y,n=r.maxBottom,o=r.maxRight,a=p.current;if(a&&n>=0&&o>=0){var i=a.clientWidth,c=a.clientHeight,m=$([t+c,e+i],2),f=m[0],v=m[1],h=$([f>n?t-c:t,v>o?e-i:e,e+2*i>o],3),g=h[0],y=h[1],b=h[2];g===l&&y===s&&b===u||d({top:g,left:y,leftSideLevels:b})}else d({top:e,left:t,leftSideLevels:u})}),[r]);if(!(o&&(n||[]).length>0)||!l||!s)return null;var m=ml((n||[]).reduce((function(e,t){return e.concat(fl(t))}),[])),f={top:l,left:s};return e.createElement("div",{ref:p,className:"context-dropdown-menu",style:f,onContextMenu:function(e){return e.preventDefault()}},m.map((function(t,n){return e.createElement(yl,{key:n,item:t,dispatch:a,approximateTop:(o=l,i=n,o+30*i),maxBottom:r.maxBottom,leftSideLevels:u});var o,i})))},wl=function(t){var n=t.textUntitled,r=t.disabled,o=t.custom,a=function(){var e=ke().selectors.designerState,t=V(e);return{reportName:t.reportName,dirty:t.dirty}}(),i=a.reportName,c=a.dirty;return e.useEffect((function(){if(!r){var e=(i||n||"Untitled")+(c?" *":"");document.title=(null==o?void 0:o({reportName:i,dirty:c}))||e}}),[n,r,o,i,c]),null},Sl=function(t){var n=t.identifiers.instanceId,r=t.focusTimer,o=t.documentTitle,a=t.designerAPI,i=t.children,c=r&&r.disabled;return e.createElement(xi,{rootId:n,gridTemplate:"designer",withFocusTimer:!c},e.createElement(wl,j({},o)),e.createElement(Pe.Provider,{value:a},i))},_l=function(){return Ee.action(Te)},xl=function(e){return Ee.action(Ie,{panel:e})},Cl=function(){return!(e=window.navigator.userAgent,t=e.indexOf("Trident/"),n=e.indexOf("MSIE "),t>-1||n>-1||window.navigator.userAgent.indexOf("Edge/")>-1);var e,t,n},Nl=function(t){var n=t.type,r=t.icon,o=t.text,a=t.onClick,i=$(G({item:{type:"toolboxitem",reportItemType:n,nameTemplate:De(n)},collect:function(e){return{isDragging:e.isDragging()}}}),3),c=i[0].isDragging,l=i[1],s=i[2];e.useEffect((function(){s(Z(),{captureDraggingState:!0})}),[]);var u=function(t,i){return void 0===t&&(t=n),e.createElement("div",{className:"wd-toolbox-item",key:t,style:i,onClick:a,title:o,"data-aid":o},e.createElement(b,{icon:p(Ae[n])||r,customCSS:"gc-btn__icon"}),e.createElement("span",{className:"gc-btn__text"},o))};if(Cl())return l(u());var d=Me(c);return e.createElement("div",null,l(u(o+"_draggable",d)),c&&u())},kl=function(t){var n=t.toggleText;return e.createElement("div",{className:"wd-menu-toggle"},e.createElement("div",{className:"wd-menu-toggle__burger"},e.createElement("div",null,e.createElement("span",null),e.createElement("span",null),e.createElement("span",null))),e.createElement("span",{className:"wd-menu-toggle__text"},n))},Pl=function(t){var n=t.customLogo,r=t.text,o=n?{type:"svg",content:e.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",dangerouslySetInnerHTML:{__html:n}})}:p(Vc);return e.createElement("div",{className:"wd-menu-logo"},e.createElement(b,{icon:o,customCSS:"wd-menu-logo__icon"}),e.createElement("span",{className:"wd-menu-logo__text"},r))},Tl=function(t){var n,r=t.designerMenu,o=r.panel,a=r.groupEditorAdvancedMode,i=t.activeView,c=t.appName,l=t.hiddenElements,s=void 0===l?{}:l,u=t.customLogo,d=t.report,m=t.reportStyles,f=t.dispatch,v=t.onToggle,h=t.getString,g={mode:"panel",size:"large",dataAid:"Menu",toggleContent:e.createElement(kl,{toggleText:h("menu.close")}),logo:{appBarId:"main_appbar",size:"small",content:e.createElement(Pl,{text:c,customLogo:u})},onToggle:v},y=null;switch(i){case Sc:var b=j(j({},g),{items:He.getToolboxItems(f)});y=e.createElement(_a,j({},b));break;default:var E=h("menu.explorer"),w=s.reportExplorer?null:e.createElement(Or,{key:"report-explorer",id:"report-explorer",dataAid:E,toggle:{icon:p(Dc),text:E,title:E},customScroll:!0},e.createElement(O,null,e.createElement(ze,{report:d,dispatch:f}))),S=h("menu.groupEditor"),_=[w,s.groupEditor?null:e.createElement(Or,{key:"group-editor",id:"group-editor",dataAid:S,toggle:{icon:p(jc),text:S,title:S},customScroll:!0},e.createElement(Le,{advancedMode:a,item:d,toggleModeFn:function(){return f(_l())},dispatch:f}))],x=s.toolbox?[]:(n=d.Type,je(n).map((function(t){var n=t.type,r=t.icon,o=t.label,a={type:n,icon:r,text:o,onClick:function(e){e.preventDefault(),e.stopPropagation(),function(e){f({type:Ve.SECONDARY_SELECTION_CLEAR,payload:{}});var t=e&&e.toLowerCase(),n={type:Ve.ADD_ITEM,payload:{Type:t,Name:De(t),Style:Be(m,t)}};f(n);var r={type:Ve.OPEN_REPORT_ITEM_WIZARD,payload:{}};f(r)}(n)}};return{type:"custom",content:e.createElement(Nl,j({},a))}})));b=j(j({},g),{onPanelChange:function(e){o!==e&&f(xl(e))},items:x});y=e.createElement(_a,j({},b),_)}return y},Il=function(e,t){var n=e.length&&lt(e[0].Type);if(!n)return"";var r=e.length>1&&e.some((function(e){return lt(e.Type)!==n}));return r&&e.every((function(e){return st({Type:e.Type})}))&&t("reportItemsItemsLabel")||r&&t("multipleTypesLabel")||n},Ol=function(t){var n=t.getString,r=t.getFonts,o=e.useContext(Pe),a=o.instanceId,i=o.selectors,c=i.designerState,l=i.report,s=i.semanticModel,u=o.options.expressionSyntax,d=V(c),p=d.propertyGrid,m=p.properties,f=p.properties,v=f.descriptors,h=f.objectValue,g=void 0===h?[]:h,y=f.objectPath,b=void 0===y?[]:y,E=f.defaultValue,w=void 0===E?[]:E,S=f.linkedProperties,_=f.path,x=d.settings.advancedMode,C=d.theme,N=V(s),k=V(l),P=k.$index,T=k.Type,I=P.DataSets,O=void 0===I?[]:I,D=P.DataSources,A=void 0===D?[]:D,M=P.Layers,z=void 0===M?[]:M,L=P.NamedItems,H=void 0===L?[]:L,R=$(e.useState(null),2),F=R[0],U=R[1],K=Re(),G=function(e){return n("propertiesTab."+e)};e.useEffect((function(){null!==F?!S.some((function(e,t){return t.toString()===F}))&&(_.length&&K(Fe.resetPropertiesPath()),U(null)):_.length&&!g.length&&K(Fe.resetPropertiesPath())}),[_,g,S,F]);var Z=function(e){var t=e;return _.length&&(t=dt(t,_.map((function(e){return e.value})).join("."))),t},X=function(e){K(Ze.open("expression",{descriptor:e,properties:m}))},Y=function(e){return function(t){K(Ze.open("expression",{properties:j(j({},e),{path:_}),descriptor:t,setProperty:function(n){return We(e.objectPath.map((function(e){return Xe(e,t,n)})))}}))}},q=function(e){K(B.of(a).open("dataVisualizer",{descriptor:e,properties:m}))},Q=function(e){return function(t){K(B.of(a).open("dataVisualizer",{descriptor:t,properties:j(j({},e),{path:_}),byPath:!0}))}},J=function(e,t,n,r,o){var a=Z(e);K(mt(a,t,n,r,o))},ee=function(e){var t=e.objectPath;return function(e,n){K(We(t.map((function(t){return Xe(t,e,n)}))))}},te=function(e){var t=(e||[]).reduce((function(e,t){switch(t.type){case qe:var n=ft(t,{payload:{descriptor:{$apply:function(e){return Z(e)}}}});e.push(n);break;case Ye:var r=ft(t,{payload:{descriptorValuePairs:{$apply:function(e){return e.map((function(e){return j(j({},e),{descriptor:Z(e.descriptor)})}))}}}});e.push(r);break;default:e.push(t)}return e}),[]);1===t.length?K(t[0]):t.length>1&&K(We(t))},ne=function(e){var t=e.objectPath;return function(e){var n=(e||[]).reduce((function(e,n){var r=n.type,o=n.payload;switch(r){case qe:var a=o.descriptor,i=o.value,c=t.map((function(e){return Xe(e,a,i)}));e.push.apply(e,W(c));break;case Ye:var l=o.descriptorValuePairs,s=t.map((function(e){return Ke(e,l)}));e.push.apply(e,W(s));break;default:e.push(n)}return e}),[]);1===n.length?K(n[0]):n.length>1&&K(We(n))}},re=null!==F&&S.length>0?S[F]:void 0,oe=e.useMemo((function(){return Ue(k)}),[k]),ae={setProperties:re?function(e){var t=e.objectPath;return function(e){K(We(t.map((function(t){return Ke(t,e)}))))}}(re):function(e,t,n,r){var o=e||[];if(_.length&&o.length>0){var a=_.map((function(e){return e.value})).join(".");o=o.map((function(e){return j(j({},e),{descriptor:dt(e.descriptor,a)})}))}K(pt(o,t,n,r))},drillPropertiesPath:function(e,t){K(Fe.drillPropertiesPath(e,t))},getAreaByPath:function(e){return $e(k,e)}},ie={fontFamily:r()||[]},ce=e.useMemo((function(){return{isI11nExpressionSyntax:"i11n"===u,dataSets:O,dataSources:A,validationContext:Ge(T,P,C,b[0],g[0].Name),dataScope:oe,semanticInfo:{semanticModel:N,allowRebalancing:!0,showAggregates:!0,showCalculatedFields:!0},editExpression:re?Y(re):X,showDataVisualizer:re?Q(re):q}}),[O,A,re,m,b]),le={namedItems:H,selectedItemsInfo:g.map((function(e,t){return{type:e.Type,name:e.Name,path:b[t]}}))},se={layers:z},ue={theme:C},de=e.useMemo((function(){return{sortTarget:Ec(g,P,oe),sortExpressionScope:wc(g,P)}}),[g,P,oe]),pe=e.useMemo((function(){return{dispatch:K,setDataFieldProperty:re?ee(re):J,performTransaction:re?ne(re):te}}),[b,re]),me=_.length?[]:W([{id:null,text:Il(g,G)}],S.map((function(e,t){return{id:t.toString(),text:Il(e.objectValue,G)}}))),fe={key:"",descriptors:(null==re?void 0:re.descriptors)||v,objectValue:(null==re?void 0:re.objectValue)||g,defaultValue:(null==re?void 0:re.defaultValue)||w,propertyEditors:Qe,displayMode:x?"advanced":"simple",tabs:me.length?me:void 0,selectedTabId:F,selectionName:function(){var e,t;return F&&re?(null===(e=me[F])||void 0===e?void 0:e.text)||"":me.length>0?me[0].text||"":(null===(t=_[_.length-1])||void 0===t?void 0:t.title)||""}(),gridSearchPlaceholder:G("searchBoxPlaceholder"),closeSearchBtnTitle:"",setProperty:re?function(e){var t=e.objectPath;return function(e,n){K(We(t.map((function(t){return Xe(t,e,n)}))))}}(re):function(e,t){var n=Z(e);K(ut(n,t))},onTabSelect:function(e){F!==e&&U(e)},onBackClick:_.length>0?function(){K(Fe.shrinkPropertiesPath())}:void 0};return e.createElement(Je.Provider,{value:ae},e.createElement(et.Provider,{value:ie},e.createElement(tt.Provider,{value:ce},e.createElement(nt.Provider,{value:le},e.createElement(rt.Provider,{value:se},e.createElement(ot.Provider,{value:ue},e.createElement(at.Provider,{value:de},e.createElement(it.Provider,{value:pe},e.createElement(ct,j({},fe))))))))))},Dl=function(t){var n=t.advancedMode,r=t.onToggleSetting,o=t.getString,i=function(e,t){return o("statusBar."+e,t)},c={dataAid:"properties-mode",items:[{type:"button",text:i("showAdvancedProperties"),value:!0,selected:n},{type:"button",text:i("showBasicProperties"),value:!1,selected:!n}],text:i("propertiesMode"),icon:p(Xc),size:"small",background:"transparent",dropup:!0,hiddenChevron:!0,title:" ",onSelect:function(e){e!==n&&r("advancedMode")}};return e.createElement(a,j({},c))},Al=function(t){var n=t.snapToGrid,r=t.snapToLines,o=t.gridSize,i=t.withGridSizeEditor,c=t.onToggleSetting,l=t.onUpdateSetting,s=t.getString,u=function(e,t){return s("statusBar."+e,t)},d=e.useRef(null),m=function(e){l("gridSize",yt(e,"length")),d.current=null},f={block:!0,size:"small",position:"top"},v={content:e.createElement("div",{className:"app-status-bar-panel"},i&&e.createElement("div",{className:"sbar-editor-container","data-aid":"grid-size"},e.createElement(vt,j({},f,{label:u("snapSettings.gridSize"),dataAid:"grid-size-label"}),e.createElement(ht,{id:"grid-size-editor",placeholder:" ",value:o,validate:function(e){var t=e&&bt.isValidString(yt(e,"length"))||!1;return d.current=t?e:null,t},onChange:m}))),e.createElement("div",{className:"sbar-editor-container","data-aid":"snap-to-grid"},e.createElement(vt,j({},f,{label:u("snapSettings.snapToGrid"),dataAid:"snap-to-grid-label"}),e.createElement(gt,{customCSS:"snap-to-grid-toggle"+(n?" checked":""),size:"small",checked:n,onToggle:function(){return c("snapToGrid")},text:u("snapSettings."+(n?"enabled":"disabled"))}))),e.createElement("div",{className:"sbar-editor-container","data-aid":"snap-to-guides"},e.createElement(vt,j({},f,{label:u("snapSettings.snapToGuides")}),e.createElement(gt,{customCSS:"snap-to-guides-toggle"+(r?" checked":""),size:"small",checked:r,onToggle:function(){return c("snapToLines")},text:u("snapSettings."+(r?"enabled":"disabled"))})))),icon:p(Bc),size:"small",background:"transparent",dropup:!0,hiddenChevron:!0,menuWidth:200,onToggle:function(e){!e&&d.current&&m(d.current)},dataAid:"snap-settings"};return e.createElement(a,j({},v))},Ml=$(Et("wd-zoom-control"),3),zl=Ml[0],Ll=Ml[2],Hl=$(Ll("value"),1)[0],jl=function(t){var n=t.zoomFactor,i=t.zoomPoints,c=t.onSetZoom,l=t.onZoomIn,s=t.onZoomOut,u={dataAid:"zoom-dropdown",items:i.map((function(e){return{type:"button",text:Math.round(100*e)+"%",selected:e===n,onClick:(t=e,function(){return c(t)}),dataAid:"percent-"+Math.floor(100*e)};var t})),text:Math.round(100*n)+"%",size:"small",background:"transparent",dropup:!0,hiddenChevron:!0,menuWidth:"auto",menuAlign:"center",customCSS:Hl,title:" "},d={size:"small",background:"transparent",customCSS:"gc-statusbar__btn--with-icon"};return e.createElement("span",{className:zl},e.createElement(r,null),e.createElement(o,j({},d,{onClick:s,icon:p(Ce),dataAid:"zoom-out-button"})),e.createElement(a,j({},u)),e.createElement(o,j({},d,{onClick:l,icon:p(Ne),dataAid:"zoom-in-button"})),e.createElement(r,null))},Vl=function(t){var n,r=t.settings,a=r.showGrid,i=r.snapToGrid,c=r.snapToLines,l=r.gridSize,s=r.units,u=r.zoomFactor,d=r.advancedMode,m=t.zoomPoints,f=t.hiddenElements,v=void 0===f?{}:f,h=t.onSetUnits,g=t.onZoomIn,y=t.onZoomOut,b=t.onSetZoom,E=t.onToggleSetting,w=t.onUpdateSetting,S=t.getString,_=function(e){return S("notificationPanel."+e)},x={advancedMode:d,onToggleSetting:E,getString:S},C={text:S("units."+s+".shortName"),title:S("units."+s+".fullName"),onClick:function(){switch(s){case"in":h("cm");break;case"cm":h("in")}},size:"small",background:"transparent",dataAid:"units-toggle"},N={zoomFactor:u,zoomPoints:m,onZoomIn:g,onZoomOut:y,onSetZoom:b},k={snapToGrid:i,snapToLines:c,gridSize:l,withGridSizeEditor:!v.gridSizeEditor,onToggleSetting:E,onUpdateSetting:w,getString:S},P={title:(n="grid",S("statusBar."+n)),icon:p(Hc),onClick:function(){return E("showGrid")},size:"small",background:a?void 0:"transparent",customCSS:"gc-statusbar__btn--with-icon "+(a?"show-grid":"hide-grid"),dataAid:"grid-toggle"},T=[v.propertiesMode?null:e.createElement(Dl,j({key:"sb-props-mode"},x)),v.units?null:e.createElement(o,j({key:"sb-units"},C)),v.zoom?null:e.createElement(jl,j({key:"sb-zoom"},N)),v.snapSettings?null:e.createElement(Al,j({key:"sb-snap-settings"},k)),v.gridToggle?null:e.createElement(o,j({key:"sb-grid-toggle"},P))],I={customCSS:"app-status-bar",dismissAllLabel:_("dismissAll"),dismissLabel:_("dismiss"),expandTitle:_("expand"),collapseTitle:_("collapse"),errorCategoryLabel:function(e){return _(1===e?"oneError":"multipleErrors")},warningCategoryLabel:function(e){return _(1===e?"oneWarning":"multipleWarnings")},infoCategoryLabel:function(e){return _(1===e?"oneNotification":"multipleNotifications")}};return e.createElement($a,j({},I),T)},Bl=function(t){var n=t.id,r=t.name,o=t.selected,a=t.onSelect,i=t.Colors,l=i.Accent1,s=i.Accent2,u=i.Accent3,d=i.Accent4,p=i.Accent5,m=i.Accent6,f=i.Dark1,v=i.Dark2,h=t.Fonts,g=h.MajorFontFamily,y=h.MinorFontFamily,b={className:c("theme-picker-preview",{selected:o}),onClick:function(){return a(n)}};return e.createElement("div",j({},b),e.createElement("div",{className:"theme-picker-preview__fonts"},e.createElement("div",{className:"theme-picker-preview-font"},e.createElement("div",{className:"theme-picker-preview-font__preview",key:"major",style:{fontFamily:g}},"A"),e.createElement("div",{className:"theme-picker-preview-font__preview",key:"minor",style:{fontFamily:y}},"a"))),e.createElement("div",{className:"theme-picker-preview__colors"},[l,s,u,d,p,m,f,v].map((function(t,n){return e.createElement("div",{className:"theme-picker-preview-color",key:n,style:{backgroundColor:t||void 0}})}))),e.createElement("div",{className:"theme-picker-preview__label",title:r},e.createElement("span",null,r)))},Rl=function(t){var n=t.themes,r=t.value,o=t.onThemeSelected,a=t.getString,i=wt(r).id||"",l={key:"NoTheme.0",className:c("theme-picker-preview",{selected:!i}),onClick:function(){return o("")}},s=e.createElement("div",j({},l),e.createElement("div",{className:"theme-picker-preview__noneIcon"},e.createElement(b,{icon:p(ol)})),e.createElement("div",{className:"theme-picker-preview__label"},e.createElement("span",null,a("labels.none"))));return e.createElement("div",{className:"theme-picker"},s,n.map((function(t,n){return e.createElement(Bl,j({key:t.name+"_"+n},t,{selected:t.id===i,onSelect:o}))})))},Fl=function(t){var n=t.icon,r=t.color,o={backgroundColor:r,border:("Transparent"===r?"1px dotted black":!r&&"1px dotted gray")||""};return e.createElement("div",{className:"wd-toolstrip-color-preview"},n&&n.content,e.createElement("div",{style:o}))},Ul=function(t,n,r){return e.createElement(xt,{value:t,onSelect:n,theme:r})},Wl=function(t){var n=t.homeActions,i=t.reportTheme,c=t.lockLayout,l=t.dispatch,s=t.getFonts,u=t.getString,d=e.useContext(C).API,m=function(t){var n=t.icon,r=t.text,a=t.title,i=t.disabled,c=t.checked,s=t.action,u={id:a,accent:"icon",background:c?"default":"transparent",icon:n,text:r,title:a,onClick:function(){return l(s)},disabled:i,dataAid:t.dataAid};return e.createElement(o,j({key:a},u))},f=function(t){var n=j({accent:"icon",background:"transparent",menuMaxHeight:300,scrollToSelection:!0,onSelect:function(e){return l(e)}},t);return e.createElement(a,j({key:t.id},n))};return W(c?[]:["cut","copy","paste"],["delete","separator","font_family","separator","font_size","separator","font_weight","font_style","text_decoration","separator","color","background_color","separator","text_align_left","text_align_center","text_align_right","text_align_justify","separator","text_vertical_align_top","text_vertical_align_middle","text_vertical_align_bottom"]).map((function(t,o){var a=n.find((function(e){return e.type===t})),c=function(e,t){return void 0===t&&(t=!1),(e||"").startsWith("=")?u(t?"labels.expressionCompact":"labels.expression"):e},v={text:"",tooltip:"",disabled:!0,action:function(){return{type:""}}};if(a){var h=a.icon,g=a.text,y=a.tooltip,b=a.enabled;v={icon:h,text:g,tooltip:y,disabled:void 0!==b&&!b,action:a.action}}if("function"!=typeof v.action){var E=v.tooltip,w=v.disabled,S=v.action;switch(t){case"cut":return m({icon:p(Tc),title:E||u("home.cut"),action:S,disabled:w});case"copy":return m({icon:p(Pc),title:E||u("home.copy"),action:S,disabled:w});case"paste":return m({icon:p(Wc),title:E||u("home.paste"),action:S,disabled:w});case"delete":return m({icon:p(Oc),title:E||u("home.delete"),action:S,disabled:w});default:return null}}var _=v.text,x=v.tooltip,C=v.disabled,N=v.action;switch(t){case"separator":return e.createElement(r,{key:"splitter_"+o});case"font_family":var k=c(_),P={fontFamily:k===_?_:"inherit"};return f({items:(s()||[]).map((function(e){return{type:"button",text:e,value:e,selected:e===_}})),id:t,disabled:C,toggleContent:e.createElement("span",{style:P},k),title:u("home.fontFamily"),width:"150px",itemSize:"small",customButtonRenderer:function(t){var n=t.value;return e.createElement("div",{className:"wd-font-dropdown__item",style:{fontFamily:n}},n)},onSelect:function(e){return l(N(e))},menuAlign:"left"});case"font_size":return f({items:de.font_size.map((function(e){return{type:"button",text:e,value:N(e),selected:e===_}})),id:t,disabled:C,text:c(_,!0),title:u("home.fontSize"),width:"100px",menuWidth:100,itemSize:"small",menuAlign:"left"});case"font_weight":return m({icon:p(Lc),title:x||u("home.fontWeight"),action:N("Bold"!==_?"Bold":"Normal"),disabled:C,checked:"Bold"===_,dataAid:t});case"font_style":return m({icon:p(zc),title:x||u("home.fontStyle"),action:N("Italic"!==_?"Italic":"Normal"),disabled:C,checked:"Italic"===_,dataAid:t});case"text_decoration":return m({icon:p(el),title:x||u("home.textDecoration"),action:N("Underline"!==_?"Underline":"None"),disabled:C,checked:"Underline"===_,dataAid:t});case"color":var T=c(a&&St(a.text,i)||"");return f({id:t+"."+T,toggleContent:e.createElement(Fl,{color:T,icon:p(Mc)}),title:x||u("home.textColor"),content:Ul(_t.fromString(T),(function(e){!function(e){l(N(e.customValue||_t.toWeb(e)||e.hex))}(e),d.dropdowns.open(null)}),i),menuWidth:"auto",customCSS:"wd-toolstrip-color-dropdown",disabled:C,menuMaxHeight:"none",menuAlign:"left"});case"background_color":T=c(a&&St(a.text,i)||"");return f({id:t+"."+T,toggleContent:e.createElement(Fl,{color:T,icon:p(Ac)}),title:x||u("home.backgroundColor"),content:Ul(_t.fromString(St(T,i)),(function(e){!function(e){l(N(e.customValue||_t.toWeb(e)||e.hex))}(e),d.dropdowns.open(null)}),i),menuWidth:"auto",customCSS:"wd-toolstrip-color-dropdown",disabled:C,menuMaxHeight:"none",menuAlign:"left"});case"text_align_left":return m({icon:p(Qc),title:x||u("home.textAlignLeft"),action:N("Left"!==_?"Left":"General"),disabled:C,checked:"Left"===_,dataAid:t});case"text_align_center":return m({icon:p(Yc),title:x||u("home.textAlignCenter"),action:N("Center"!==_?"Center":"General"),disabled:C,checked:"Center"===_,dataAid:t});case"text_align_right":return m({icon:p(Jc),title:x||u("home.textAlignRight"),action:N("Right"!==_?"Right":"General"),disabled:C,checked:"Right"===_,dataAid:t});case"text_align_justify":return m({icon:p(qc),title:x||u("home.textAlignJustify"),action:N("Justify"!==_?"Justify":"General"),disabled:C,checked:"Justify"===_,dataAid:t});case"text_vertical_align_top":return m({icon:p(rl),title:x||u("home.textVerticalAlignTop"),action:N("Top"),disabled:C,checked:"Top"===_,dataAid:t});case"text_vertical_align_middle":return m({icon:p(nl),title:x||u("home.textVerticalAlignMiddle"),action:N("Middle"!==_?"Middle":"Top"),disabled:C,checked:"Middle"===_,dataAid:t});case"text_vertical_align_bottom":return m({icon:p(tl),title:x||u("home.textVerticalAlignBottom"),action:N("Bottom"!==_?"Bottom":"Top"),disabled:C,checked:"Bottom"===_,dataAid:t});default:return null}}))},Kl=function(t){var n=t.reportItems,r=t.reportStyles,a=t.dispatch;return n.map((function(t){var n=t.type,i=t.icon,c=t.label,l={id:n,dataAid:n,size:"default",background:"transparent",icon:i,text:c,title:c,onClick:function(){return function(e){a({type:Ve.SECONDARY_SELECTION_CLEAR,payload:{}});var t=e&&e.toLowerCase(),n={type:Ve.ADD_ITEM,payload:{Type:t,Name:De(t),Style:Be(r,t)}};a(n);var o={type:Ve.OPEN_REPORT_ITEM_WIZARD,payload:{}};a(o)}(n)}};return e.createElement(o,j({key:n},l))}))},$l=function(e){return!(!1!==e)},Gl=function(e,t){return e&&e.length?e.map((function(e){switch(e.type){case"numberEditorButton":var n=e.icon,r=e.text,o=e.tooltip,a=e.enabled,i=e.getAction;return{type:"button",dataAid:r+"-button",icon:n,text:r,title:o,disabled:$l(a),onClick:function(){return t(i())}};case"button":n=e.icon,r=e.text,o=e.tooltip,a=e.enabled;var c=e.action;return{type:"button",dataAid:c.text+"-button",icon:n,text:r,title:o,disabled:$l(a),onClick:function(){return t(c)}};case"separator":return(r=e.text)?{type:"header",header:r}:{type:"splitter"};default:throw Error("Unknown element type: "+e.type)}})):[]},Zl=e.forwardRef((function(t,n){var i,c=t.getFonts,l=t.getString,s=e.useContext(Pe),u=s.selectors,p=u.designerState,m=u.report,f=s.options.lockLayout,v=e.useContext(C).API,h=V(p),g=h.menuItemId,y=h.homeActions,b=h.actions,E=h.theme,w=h.sharedThemes,S=h.reportStyles,_=V(m),x=Re(),N=b.filter((function(e){return"group"===e.type})),k=N.map((function(t){return g===t.text?function(t){var n=t.actions,i=t.report,c=t.reportTheme,l=t.themes,s=t.dispatch,u=t.getString,d=t.uiAPI;return!n||n.length<=0?null:n.map((function(t,n){switch(t.type){case"button":var p=t.icon,m=t.text,f=t.tooltip,v=t.enabled,h=t.action,g={accent:"icon",dataAid:m+"-button",background:"transparent",icon:p,text:m,title:f,onClick:function(){return s(h)},disabled:$l(v)};return e.createElement(o,j({key:m+"_"+n},g));case"separator":return e.createElement(r,{key:"splitter_"+n});case"dropdown":p=t.icon,m=t.text,f=t.tooltip,v=t.enabled;var y=t.itemSize,b=t.actions,E={dataAid:m+"-dropdown",accent:"icon",background:"transparent",icon:p,text:m,title:f,items:Gl(b,s),disabled:$l(v),itemSize:y};return e.createElement(a,j({key:m+"_"+n},E));case"theme":var w=l.items||[];if(0===w.length)return null;var S=t.type,_=(p=t.icon,m=t.text,f=t.tooltip,v=t.enabled,t.action);E={background:"transparent",dataAid:"theme-dropdown",id:S+"."+m,icon:p,text:m,title:f,disabled:$l(v),content:e.createElement(Rl,{value:i.Themes[0],themes:w,onThemeSelected:function(e){s(_(e)),d.dropdowns.open(null)},getString:u}),menuWidth:"auto",menuAlign:"left"};return e.createElement(a,j({key:S+"."+m+"_"+n},E));case"plotTemplate":S=t.type,p=t.icon,m=t.text,f=t.tooltip;var x=t.paletteInfo,C=(v=t.enabled,t.action);E={background:"transparent",dataAid:"plot-template-dropdown",id:S+"."+m,icon:p,text:m,title:f,disabled:$l(v),content:e.createElement(Nt,{onPick:function(e){s(C(e)),d.dropdowns.open(null)},paletteInfo:x,theme:c}),menuWidth:240,menuMaxHeight:400,menuAlign:"left"};return e.createElement(a,j({key:S+"."+m+"_"+n},E));case"chartPalette":S=t.type,p=t.icon,m=t.text,f=t.tooltip;var N=t.selectedPalette,k=(v=t.enabled,t.action);E={background:"transparent",dataAid:"chart-palette-dropdown",id:S+"."+m,icon:p,text:m,title:f,disabled:$l(v),content:e.createElement(Ct,{onPick:function(e){s(k(e)),d.dropdowns.open(null)},selectedPalette:N,theme:c}),menuWidth:480,menuMaxHeight:400,menuAlign:"left"};return e.createElement(a,j({key:S+"."+m+"_"+n},E));case void 0:throw Error("Element without type");default:throw Error("Unknown element type: "+t.type)}})).filter((function(e){return!!e}))}({actions:t.actions,report:_,reportTheme:E,themes:w,dispatch:x,getString:l,uiAPI:v}):null}));i=gc.includes(g)||N.some((function(e){return e.text===g}))?g:gc[0];var P={homeActions:y,reportTheme:E,lockLayout:f,getFonts:c,getString:l,dispatch:x},T={reportItems:je(_.Type),reportStyles:S,dispatch:x},I={reportParams:_.ReportParameters,paramsView:_.$paramsView,dispatch:x};return e.createElement(d,j({},{id:"main_toolbar",block:!0,padding:!0,size:"default",toggleBackground:"transparent"},{ref:n}),"Home"===i&&Wl(P),"Insert"===i&&Kl(T),"Parameters"===i?He.getToolbar(I):null,k)})),Xl={confirm:function(t,n){return e.createElement(lc,j({key:t},n))},dataVisualizer:function(t,n){return e.createElement(kt,j({key:t},n))}},Yl=((fc={})[Pt]=function(t){return e.createElement(Tt,{key:t})},function(t){var n=t.children;return e.createElement("div",{className:"panel-group ar-shutter"},e.createElement("div",{className:"panel panel-default ar-shutter-content"},e.createElement("div",{className:"ar-shutter-body"},n)))}),ql=function(t){var n=t.text,r=t.onClick;return e.createElement("div",{key:"header-button",className:"panel-heading ar-with-buttons left"},e.createElement("button",{type:"button",className:"btn btn-default gc-rounded",onClick:r},e.createElement(b,{icon:p(Bt),customCSS:"wd-svg"})),n)};function Ql(e){var t=e.reduce((function(e,t){var n;return j(j({},e),((n={})[t.Name]=j(j({},t),{level:0,children:[]}),n))}),{}),n=[];e.forEach((function(e){var r,o=t[e.Name],a=null===(r=Ft(o.Query.DataSourceName))||void 0===r?void 0:r.dataset,i=null!=a?t[a]:null;null==i?n.push(o):i.children.push(o)}));var r=[];return function e(t,n){t.forEach((function(t){var o=t.children,a=It(t,["children"]);r.push(j(j({},a),{level:n})),e(o,n+1)}))}(n,0),r}var Jl=function(e){var t=e.report,n=e.designer,r=e.dataPanel,o=e.dataSourceTemplates,a=t.present;return{reportParameters:a.ReportParameters,dataSources:a.DataSources,datasetList:Ql(a.DataSets),$index:a.$index,theme:n.theme,reportType:a.Type,reportId:n.reportId,panel:r,templates:o}},es=function(){var t,n,r=$([!0,!0,!0,!0,!0],5),o=r[0],i=r[1],c=r[2],l=r[3],s=r[4],u=V(Jl),d=u.reportParameters,m=u.dataSources,f=u.datasetList,v=(u.reportId,u.panel),h=u.templates,g=It(u,["reportParameters","dataSources","datasetList","reportId","panel","templates"]),y=Re(),b=function(e){return function(){return y(Ot.createDataSource(e))}},E={};i&&h&&h.length>0&&(1===h.length?E.onAdd=b(h[0].id):E.customAdd=e.createElement(a,j({},{text:Dt.t("dataPanel.addCmdTitle","Add"),size:"small",background:"transparent",icon:p(At),hiddenChevron:!0},{items:h.map((function(e){var t=e.title,n=e.id;return{type:"button",icon:{type:"font",iconCssClass:"mdi database-add"},text:t,onClick:b(n)}}))})));var w=function(e){var t=e.$templateId;return null==h?void 0:h.find((function(e){return e.id===t}))},S=function(e){var t;return(null===(t=w(e))||void 0===t?void 0:t.datasets)||[{id:"0",title:"Create dataset...",template:Xt}]},_=function(e){var t,n=null===(t=Ft(e.Query.DataSourceName))||void 0===t?void 0:t.dataset;if("string"==typeof n){var r=f.find((function(e){return e.Name===n}));return r?_(r):null}return e},x=function(e){return function(){return y(Ot.deleteDataSource(e.Name))}},C=function(e,t){var n=S(e).find((function(e){return e.id===t}));n&&y(Ot.addDataset(t,n,e.Name))},N=function(t){var n,r=S(t),o="TESTING"===t.ConnectionProperties.DataProvider,i=!1!==(null===(n=w(t))||void 0===n?void 0:n.canEdit)&&!o,c=Rt(t),l={dataSource:j(j({},t),{$dataProvider:c,ConnectionProperties:j(j({},t.ConnectionProperties),{DataProvider:c})}),onEdit:i?function(){return e={mode:"edit",initialData:t,usedDatasourceNames:m.map((function(e){return e.Name}))},void y(Ze.open("datasource",e));var e}:void 0,onDelete:x(t)};if(r.length>0&&!o)if(1===r.length)l.onAddDataSet=function(){return C(t,r[0].id)};else{var s=r.map((function(e){var n=e.title,r=e.id;return{type:"button",icon:{type:"font",iconCssClass:"mdi mdi-database-add"},text:n,onClick:function(){return C(t,r)}}}));l.customAdd=e.createElement(a,{items:s,text:"",size:"small",background:"transparent",icon:p(At),hiddenChevron:!0})}return l},k=function(e,t){var n,r=m.find((function(t){return t.Name===e.Query.DataSourceName})),o="TESTING"===(null==r?void 0:r.ConnectionProperties.DataProvider),a=Ft(e.Query.DataSourceName),i=!1!==(null===(n=function(e){var t,n=_(e),r=null==m?void 0:m.find((function(e){var t;return e.Name===(null===(t=null==n?void 0:n.Query)||void 0===t?void 0:t.DataSourceName)}));if(r){var o=w(r),a=n.$templateId;return null===(t=null==o?void 0:o.datasets)||void 0===t?void 0:t.find((function(e){return e.id===a}))}}(e))||void 0===n?void 0:n.canEdit)&&!o;return{dataSet:e,expanded:v.expandedDatasetName===e.Name,disableEdit:!i,onClick:function(){return t=e,y(zt.toggleExpandDataSet(t.Name));var t},onDelete:function(){return y(jt(e))},basedOnOverride:null!=a?"":void 0,onEdit:function(){return t=e,y(Ot.editDataset(t.Name));var t},index:t,editParameter:function(){},customCss:"dataset-list-level-"+e.level}};var P,T,I={title:Dt.t("dataPanel.commonValuesLabel","Common Values"),collapsed:!v.commonValuesExpanded,items:[{type:"button",icon:p(Mt,{rotate:v.commonValuesExpanded?void 0:"180"}),onClick:function(){return y(zt.toggleCommonValues())}}]};return e.createElement("div",{className:"ar-data-panel"},"param"!==(null===(t=v.activeEditor)||void 0===t?void 0:t.type)&&e.createElement("div",{className:"panel-group"},o&&(i||m.length>0)&&e.createElement(Lt,j({title:Dt.t("dataPanel.dataSourcesLabel","Data Sources")},E),0===m.length&&e.createElement("span",{className:"wd-sidebar-panel__placeholder"},Dt.t("dataPanel.noDataSources","Report has no data sources")),m.map((function(t){return e.createElement(pc,j({key:t.Name},N(t)))}))),c&&e.createElement(Lt,{title:Dt.t("dataPanel.dataSetsLabel","Data Sets")},0===f.length&&e.createElement("span",{className:"wd-sidebar-panel__placeholder"},Dt.t("dataPanel.noDataSets","Report has no data sets")),f.map((function(t,n){return e.createElement(Ht,j({key:t.Name},k(t,n)))}))),l&&e.createElement(Lt,{title:Dt.t("dataPanel.parametersLabel","Parameters"),onAdd:function(){var e=Dt.t("nameTemplates.reportParameter","Parameter"),t=Ut(e,d.map((function(e){return e.Name}))),n=Wt(t,{});y(Kt(n)),y(zt.editParameter(d.length))}},e.createElement(hc,{boundParameters:[],reportParameters:d,onClick:function(e,t){return y(zt.editParameter(t))},onDelete:function(e){return y($t(e))},onMoveUp:function(e){e>0&&y(Gt(e))},onMoveDown:function(e){e<d.length-1&&y(Zt(e))}})),s&&e.createElement(Lt,j({},I),e.createElement(uc,null))),"param"===(null===(n=v.activeEditor)||void 0===n?void 0:n.type)&&e.createElement("div",{className:"ar-panel-overlay-container show",id:"parameter-editor-shutter"},e.createElement(Yl,null,e.createElement(ql,{text:Dt.t("dataPanel.editParameter","Edit parameter"),onClick:function(){return y(zt.cancelEditParameter())}}),v.activeEditor.parameterIndex<d.length&&e.createElement(Vt,{parameterIndex:v.activeEditor.parameterIndex,validationContext:(P=v.activeEditor.parameterIndex,T="ReportParameters."+P,Ge(g.reportType,g.$index,g.theme,T))}))))};var ts,ns,rs,os,as,is=function(){var t=R("datasource"),n=t.state,r=t.open,o=t.updateDialog,a=t.dispatch,i=t.closeDialog,c=n.properties,l=n.provider,s=n.name,u=n.initialState;function d(e){var t=function e(t){var n=t.properties;if("raw"===n.type)return n.connectionString;if("parseError"===n.type)throw new Error("Unexpected properties state");return e(nn(t,Jt.setSettingsMode("raw")))}(n);return ft(e,{Name:{$set:s},ConnectionProperties:{DataProvider:{$set:l},ConnectString:{$set:t}}})}var p=function(){return i()},m=u.usedDatasourceNames,f=Yt("^\\p{L}[\\p{L}\\p{N}_]*$","i"),v=function(e){return!(null==e||""===e||!f.exec(e)||null!=m&&m.includes(e))},g=v(s)&&("raw"===c.type||"parsed"===c.type),y="parsed"===c.type?Dt.t("dataSourceDialog.btnConnectionString","Connection String"):Dt.t("dataSourceDialog.btnProperties","Properties"),b={open:r,title:s,subtitle:Dt.t("dataSourceDialog.subtitle","Edit Data Source"),onClose:p,controls:{align:"spread",left:[{text:y,accent:"full",onClick:function(){"parseError"!==c.type&&o(Jt.setSettingsMode("raw"===c.type?"parsed":"raw"))}},{text:Dt.t("dataSourceDialog.btnExportTemplate","Export..."),onClick:function(){return a(Ze.open("exportTemplate",{type:"datasource",value:n}))}}],right:[{text:Dt.t("dialogs.saveChanges","Save Changes"),accent:"full",onClick:function(){if("parseError"!==c.type){switch(u.mode){case"edit":var e=d(u.initialData);a(tn(u.initialData.Name,e));break;default:e=d(u.template);a(en(e))}i()}},disabled:!g},{text:Dt.t("dialogs.cancel","Cancel"),onClick:p}]},hideCloseButton:!0,customCSS:"ed-datasource-dialog"};return e.createElement(h,j({},b),"parseError"===c.type&&e.createElement(qt,{level:"error",title:Dt.t("dataSourceDialog.parseErrorTitle","Incorrect connection string"),details:e.createElement("span",null,c.errors.join(", ")),textClose:Dt.t("dataSetDialog.alertTextClose","Close"),textExpand:Dt.t("dataSetDialog.alertTextExpand","Expand"),textCollapse:Dt.t("dataSetDialog.alertTextCollapse","Collapse")}),e.createElement("div",{className:"ed-datasource-dialog__content"},e.createElement(Qt,j({},{name:s,provider:l,properties:c,validateName:v},{dispatch:o}))))},cs=function(){var t=R("exportTemplate"),n=t.open,r=t.closeDialog,o=t.state.json,a={open:n,title:Dt.t("exportTemplateDialog.title","Export Template"),controls:{align:"right",buttons:[{text:Dt.t("exportTemplateDialog.closeBtnText","Close"),onClick:r}]},onClose:r,customCSS:"gcs-zi"};return e.createElement(h,j({},a),e.createElement(rn,{height:"300px",width:"100%",value:o}))},ls=on((function(e,t){t.hot=function(e){return e}})),ss=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=null===e||null===t;return{saveAllowed:!n,saveAsAllowed:n}},us=function(e){var t=e.designer,n=t.badge;return{actions:t.actions,badge:n,dirty:t.dirty,controlItems:t.controlItems,reportId:t.reportId,reportName:t.reportName,report:e.report}},ds=function(t){var n,r,o=t.menuItemId,a=t.onMenuItemSelect,i=t.showButtons,c=t.onOpenReport,l=t.onCreateReport,s=V(us),u=s.actions,d=s.badge,m=s.dirty,f=s.controlItems,v=s.reportId,h=s.reportName,g=s.report,y=Re(),b=0!==(null!==(n=null==g?void 0:g.past)&&void 0!==n?n:[]).length,E=0!==(null!==(r=null==g?void 0:g.future)&&void 0!==r?r:[]).length,w=ss(v,h),S=w.saveAllowed,_=w.saveAsAllowed,x=b?function(){return y(sn.ActionCreators.undo())}:void 0,C=E?function(){return y(sn.ActionCreators.redo())}:void 0,N=i.preview?function(){return y(an())}:void 0,k=i.new?l:void 0,P=i.open?c:void 0,T=i.save?function(){return y((function(){if(S){if(!m)return;y(cn(null,!0))}else y(cn(null,!1))}))}:void 0,I=i.saveAs?function(){return y((function(){y(cn(null,!1))}))}:void 0,O=f.map((function(t){if("button"===t.type&&t.icon&&"svg"===t.icon.type){var n=e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",dangerouslySetInnerHTML:{__html:t.icon.content||""}});return j(j({},t),{icon:j(j({},t.icon),{content:n})})}return"about"===t.type?{type:"button",icon:p(il),title:ln("menu.about"),onClick:function(){return y(Ze.open("about"))}}:t})),D={title:h||"",subtitle:m?ln("appBar.design.dirtyLabel"):void 0,badge:d||void 0,readOnlyDocument:(S||_)&&!m,menuItemId:o,hiddenMenuItems:{file:!i.file,insert:!0,parameters:!0},onMenuItemSelect:a,controlItems:O,actions:u,onUndo:x,onRedo:E?C:void 0,onPreview:N,onOpen:P,onCreate:k,onSave:T,onSaveAs:I,getString:ln};return e.createElement(cl,j({},D))},ps=function(e){var t=e.designer,n=e.contextMenu;return{actions:t.actions,contextMenu:n}},ms=function(){var t=V(ps),n=t.actions,r=t.contextMenu,o=Re(),a=j(j({},r),{actions:n,dispatch:o});return e.createElement(El,j({},a))},fs=function(e){return{report:e.report.present,properties:e.designer.propertyGrid.properties}},vs=function(t){var n=t.dataScope,r=un("filtersEditor").state.valuePath,o=V(fs),a=o.report,i=o.properties,c=a.$index,l=c.DataSets,s=c.ReportParameters,u=function(e,t){var n=pn(r)(e);return"filter"!==(null==n?void 0:n.Type)?null:{filters:n,reportItem:e,path:t?t+"."+r:r}},d=i.objectValue,p=i.linkedProperties,m=i.objectPath,f=null;1===d.length&&((null==(f=u(d[0],m[0]))?void 0:f.filters)||1!==p.length||(f=u(p[0].objectValue[0],p[0].objectPath[0])));var v,h,g=s||[],y=!1;n.dataSetName&&(v=l.find((function(e){return e.Name===n.dataSetName}))),v||(v=$(l,1)[0],y=!0),n.parentDataSetName&&(h=l.find((function(e){return e.Name===n.parentDataSetName})));var b={reportItem:null==f?void 0:f.reportItem,filters:null==f?void 0:f.filters,valuePath:r,fullPath:(null==f?void 0:f.path)||"",parameters:g,dataSet:v,needSetDataSetName:y,parentDataSet:h};return e.createElement(dn,j({},b))},hs=function(e){var t=e.designer,n=t.designerMenu,r=t.view,o=t.reportStyles;return{designerMenu:n,view:r,report:e.report,reportStyles:o}},gs=function(){var t=V(hs),n=t.designerMenu,r=t.view,o=t.report,a=t.reportStyles,i=Re(),c={designerMenu:n,activeView:r,appName:mn(),report:o.present,reportStyles:a,hiddenElements:{},customLogo:fn(),onToggle:function(){},getString:ln,dispatch:i};return e.createElement(Tl,j({},c))},ys=function(e){return{report:e.report.present,theme:e.designer.theme}},bs=function(){var t=Re(),n=V(ys),r=n.report,o=n.theme,a=r.$index,i=a.DataSources,c=a.DataSets,l=a.ReportParameters,s=un("editParameter").state,u=s.paramName,d=s.filterValuePath,p={reportType:r.Type,reportParameters:l,paramName:u,filterValuePath:d,dispatch:t,theme:o,index:r.$index,dataSources:i,dataSets:c};return e.createElement(vn,j({},p))},Es=function(e){return ln("notificationPanel."+e)},ws=function(){var t={position:"bottom-left",autoHideTimeout:5e3,rounded:!0,showDetailsLabel:Es("showDetails"),dismissAllLabel:Es("dismissAll"),dismissLabel:Es("dismiss"),expandTitle:Es("expand"),collapseTitle:Es("collapse"),errorCategoryLabel:function(e){return Es(1===e?"oneError":"multipleErrors")},warningCategoryLabel:function(e){return Es(1===e?"oneWarning":"multipleWarnings")},infoCategoryLabel:function(e){return Es(1===e?"oneNotification":"multipleNotifications")}};return e.createElement(Ho,j({},t))},Ss=$(Et("wd-app-overlay"),1)[0],_s=function(e){return e.designer.overlay},xs=function(){var t=V(_s),n=t.show,r=t.message;return n?e.createElement("div",{className:Ss},e.createElement("div",{className:"loader-circle"}),r&&e.createElement("span",null,r)):null},Cs=e.forwardRef((function(t,n){var r=t.getFonts,o=e.useRef(null);e.useImperativeHandle(n,(function(){return{recalculateBounds:function(){var e;null===(e=o.current)||void 0===e||e.recalculateBounds()}}}));var a={getFonts:r,getString:ln};return e.createElement(Zl,j({},a,{ref:o}))})),Ns=function(e){var t=e.designer,n=t.settings,r=t.view;return{settings:n,report:e.report,view:r}},ks=function(){var t=V(Ns),n=t.settings,r=t.view,o=Re(),a="parameters"===r,i={settings:n,zoomPoints:hn,hiddenElements:{propertiesMode:a||!gn(),units:a||!yn(),zoom:a||!bn.zoom,gridToggle:a||!En(),gridSizeEditor:a||!wn(),snapSettings:a},onSetUnits:function(e){return o(Sn(e))},onToggleSetting:function(e){return o(_n(e))},onUpdateSetting:function(e,t){return o(xn(e,t))},onZoomIn:function(){return o(Cn())},onZoomOut:function(){return o(Nn())},onSetZoom:function(e){return o(kn(e))},getString:ln};return e.createElement(Vl,j({},i))},Ps=$(Et("wd-viewer-container"),3),Ts=Ps[0],Is=Ps[2],Os=$(Is("content"),1)[0],Ds=$(Et("wd-vc-header"),3),As=Ds[0],Ms=Ds[2],zs=$(Ms("title"),1)[0],Ls=$(Ms("name"),1)[0],Hs=function(t){var n=t.viewerSettings,r=t.onClose,a=n?n.reportInfo.name:"",i=!!n&&n.reportInfo.isTemporary,c=n?n.applicationTitle:"",l={icon:p(xe),accent:"full",background:"transparent",size:"large",layout:"horizontal",textAlign:"center",onClick:r,id:"viewer-container-button-back"},s={size:"large",textSize:"large",uppercase:!1,strikeThrough:!1},u=j(j({},s),{text:a+(i?" *":""),title:a,align:"center",customCSS:Ls}),d=j(j({},s),{text:c,customCSS:zs});return e.createElement("div",{className:Ts,style:{display:n?"":"none"}},e.createElement("div",{className:As},e.createElement(o,j({},l)),e.createElement(Pn,j({},d)),e.createElement(Pn,j({},u))),e.createElement("div",{id:"report-viewer-app",className:Os}))},js=function(e,t){return ln("about."+e,t)},Vs=function(t){var n,r=t.aboutInfo,o=r.applicationTitle,a=r.applicationVersion,i=r.productTitle,c=r.productVersion,l=r.coreVersion,s=r.copyright,u=t.helpInfo;return e.createElement("div",{className:"app-about"},o&&a?e.createElement(e.Fragment,null,e.createElement("p",{className:"app-name"},o),e.createElement("p",{className:"app-version"},js("applicationVersion",{applicationVersion:a})),l&&e.createElement("p",{className:"app-version"},js("coreVersion",{coreVersion:l}))):null,i&&c?[e.createElement("p",{key:"productName",className:"product-name"},i),e.createElement("p",{key:"appVersion",className:"product-version"},(n=c,js("version",{versionNumber:n})))]:null,s?e.createElement("p",{key:"copyright",className:"copyright"},s):null,u.map((function(t,n){return function(t,n){var r=t.title,o=t.link;return o?[r?e.createElement("p",{key:r+"_title_"+n,className:"product-help-title"},r):null,e.createElement("p",{key:r+"_link_"+n,className:"product-help-link"},e.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},o))]:null}(t,n)})))},Bs=function(){var t=R("about"),n=t.open,r=t.closeDialog,o={open:n,title:js("title",{applicationTitle:mn()}),controls:{align:"right",buttons:[{text:js("close"),onClick:r}]},onClose:r,customCSS:"gcs-zi",shouldCloseOnOverlayClick:!1};return e.createElement(h,j({},o),e.createElement(Vs,{aboutInfo:Tn.getAboutInfo(),helpInfo:Tn.getHelpInfos()}))},Rs="ctrl+z",Fs="ctrl+y",Us="delete",Ws="ctrl+c",Ks="ctrl+v",$s="ctrl+x",Gs="ctrl+e",Zs="ctrl+o",Xs="ctrl+s",Ys="ctrl+equals",qs="ctrl+minus",Qs="ctrl+0",Js="ctrl+add",eu="ctrl+subtract",tu="ctrl+wheel_up",nu="ctrl+wheel_down",ru=function(){return sn.ActionCreators.undo()},ou=function(){return sn.ActionCreators.redo()},au=function(e){var t;if(!e)return null;var n=e.actions&&e.actions.find((function(e){return"delete"===e.type&&e.enabled}));return null!==(t=null==n?void 0:n.action)&&void 0!==t?t:null},iu=function(e){return e&&In(e.report).every(st)?On():null},cu=function(e){return e&&In(e.report).every(st)?Dn():null},lu=function(e){var t,n;return(null===(n=null===(t=null==e?void 0:e.clipboard)||void 0===t?void 0:t.content)||void 0===n?void 0:n.length)?An():null},su=function(e){var t=e||{},n=t.showFileView;return t.onCreateReport||n&&n("new")||null},uu=function(e){var t=e||{},n=t.showFileView;return t.onOpenReport||n&&n("open")||null},du=function(e){var t=e||{},n=t.canSave,r=t.saveReport;return n&&"function"==typeof r&&r||null},pu=function(){return Cn()},mu=function(){return Nn()},fu=function(){return kn(1)},vu=((ts={})[Rs]=ru,ts[Fs]=ou,ts[Us]=au,ts),hu=((ns={})[Ws]=cu,ns[Ks]=lu,ns[$s]=iu,ns),gu=((rs={})[Gs]=su,rs[Zs]=uu,rs[Xs]=du,rs),yu=((os={})[Qs]=fu,os[Ys]=pu,os[Js]=pu,os[qs]=mu,os[eu]=mu,os[tu]=pu,os[nu]=mu,os);var bu,Eu,wu=function(e,t){var n=null!=t?t:{lockLayout:!1,disableBuiltInReportHotkeys:!1},r=function(e,t){var n=vu[e];return n||(!t.lockLayout&&(n=hu[e])||!t.disableBuiltInReportHotkeys&&(n=gu[e])||bn.zoom&&(n=yu[e]),n)}(e,{lockLayout:n.lockLayout,disableBuiltInReportHotkeys:n.disableBuiltInReportHotkeys});return r?r(t):null},Su=((as={})[Rs]=ru,as[Fs]=ou,as),_u=["","","","cancel","","","help","","back_space","tab","","","clear","enter","enter_special","","shift","control","alt","pause","caps_lock","kana","eisu","junja","final","hanja","","escape","convert","nonconvert","accept","modechange","space","page_up","page_down","end","home","left","up","right","down","select","print","execute","printscreen","insert","delete","","0","1","2","3","4","5","6","7","8","9","colon","semicolon","less_than","equals","greater_than","question_mark","at","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","os_key","","context_menu","","sleep","numpad0","numpad1","numpad2","numpad3","numpad4","numpad5","numpad6","numpad7","numpad8","numpad9","multiply","add","separator","subtract","decimal","divide","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","f13","f14","f15","f16","f17","f18","f19","f20","f21","f22","f23","f24","","","","","","","","","num_lock","scroll_lock","win_oem_fj_jisho","win_oem_fj_masshou","win_oem_fj_touroku","win_oem_fj_loya","win_oem_fj_roya","","","","","","","","","","circumflex","exclamation","double_quote","hash","dollar","percent","ampersand","underscore","open_paren","close_paren","asterisk","plus","pipe","hyphen_minus","open_curly_bracket","close_curly_bracket","tilde","","","","","volume_mute","volume_down","volume_up","","","semicolon","equals","comma","minus","period","slash","back_quote","","","","","","","","","","","","","","","","","","","","","","","","","","","open_bracket","back_slash","close_bracket","quote","","meta","altgr","","win_ico_help","win_ico_00","","win_ico_clear","","","win_oem_reset","win_oem_jump","win_oem_pa1","win_oem_pa2","win_oem_pa3","win_oem_wsctrl","win_oem_cusel","win_oem_attn","win_oem_finish","win_oem_copy","win_oem_auto","win_oem_enlw","win_oem_backtab","attn","crsel","exsel","ereof","play","zoom","","pa1","win_oem_clear",""],xu=null!==(Eu=null===(bu=null===navigator||void 0===navigator?void 0:navigator.platform)||void 0===bu?void 0:bu.toUpperCase().includes("MAC"))&&void 0!==Eu&&Eu,Cu=function(e){return xu?e.metaKey:e.ctrlKey},Nu=function(e){var t="";return Cu(e)&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),t};var ku,Pu,Tu=function(e,t,n){var r=function(e){var t=Nu(e);return e.key&&(t+=_u[e.keyCode]),t}(e),o=null;switch(t){case"designer":o=wu(r,n)||zn(r,n);break;case"parameters":o=function(e){var t=Su[e];return t?t():null}(r)||Mn(r);break;default:console.warn("hotkeys/index.ts:: no keyboard hotkeys specified for application currentView="+t)}return o},Iu=function(e,t){var n=function(e){var t=Nu(e);return e.deltaY<0?t+="wheel_up":t+="wheel_down",t}(e),r=null;switch(t){case"designer":r=wu(n)}return r},Ou=$(Et("wd-app-container"),2),Du=Ou[0],Au=Ou[1],Mu={DesignerView:Ln((function(e){var t=e.dataFieldPicker,n=e.report.present,r=e.designer;return{item:n,settings:r.settings,theme:r.theme,reportStyles:r.reportStyles,dataFieldPicker:t}}))(Hn),ExpressionEditor:Ln((ku="expression",Pu=function(e){return{index:e.report.present.$index,reportType:e.report.present.Type,theme:e.designer.theme,loadEntityScope:function(){return null}}},function(e){var t=e.dialogs.default.dialogStatesMap[ku],n=t.open,r=t.error,o=t.state;return j(j({show:n,error:r},o),Pu(e))}))(jn),DataFieldPickerDropdown:Ln((function(e){return j(j({},e.dataFieldPicker),{dataSets:e.report.present.DataSets,report:e.report.present,loadEntityScope:function(){return null}})}))(Vn),PveSurface:Ln((function(e){var t=e.report.present,n=t.$paramsView,r=t.ReportParameters;return j(j({},n),{parameters:r})}))(He.Surface),PveSidebar:Ln((function(e){var t=e.report.present,n=t.$paramsView,r=t.ReportParameters,o=t.DataSources,a=t.DataSets;return j(j({},n),{parameters:r,dataSources:o,dataSets:a})}))(He.Sidebar)},zu=function(e){var t=e.designer,n=t.view,r=t.sidebarTab,o=t.actions,a=t.clipboard,i=t.settings,c=t.appBar,l=c.showPreviewButton,s=c.showNewButton,u=c.showOpenButton,d=c.showSaveButton,p=c.showSaveAsButton,m=c.showInsertTab,f=c.showFileButton,v=t.dirty,h=t.reportId,g=t.reportName,y=t.reportStyles,b=t.viewer,E=t.menuItemId;return{currentView:n,currentSidebarTab:r,actions:o,clipboard:a,settings:i,dirty:v,report:e.report.present,reportId:h,reportName:g,viewer:b,showPreviewButton:l,showNewButton:s,showOpenButton:u,showSaveButton:d,showSaveAsButton:p,showInsertTab:m,showFileButton:f,reportStyles:y,menuItemId:E}},Lu=ls.hot((function(t){var n,r,o=t.onReady,a=t.getFonts,i=t.coreProps,l=t.openFileView,s=t.getSharedImageUrl,u=t.onOpenReport,d=t.onCreateReport,m=t.appConfig,f=V(zu),v=f.currentView,h=f.currentSidebarTab,g=f.actions,y=f.clipboard,b=f.settings,E=f.dirty,w=f.report,S=f.reportId,_=f.reportName,x=f.viewer,C=f.reportStyles,N=f.menuItemId,k=f.showPreviewButton,P=f.showNewButton,T=f.showOpenButton,I=f.showSaveButton,D=f.showSaveAsButton,A=f.showFileButton,M=Re(),z=he.debounce((function(e){return M(e)})),L=e.useRef([]),H=e.useRef(null),B=e.useRef(null),R=i.identifiers,F=R.containerId,U=R.instanceId,W=R.sidebarControlsId,K=function(){var e;null===(e=H.current)||void 0===e||e.recalculateBounds()},$=function(e){var t;null===(t=B.current)||void 0===t||t.onMenuTransition(e)},G=function(e,t,n){var r=e(t,v,n);r&&(t.stopPropagation(),t.preventDefault(),z(r))};e.useEffect((function(){var e=Bn.of(U),t=function(){return{start:function(){$(!0)},end:function(){$(!1),K()}}};return L.current=[e.menu.onTransition(t()),e.sidebar.onTransition(t())],function(){return L.current.forEach((function(e){return e()}))}}),[]),e.useEffect((function(){var e,t=function(){return document.querySelector("#"+F)},n=function(e){Cu(e)&&(null===x?G(Iu,e):e.preventDefault())};return null===(e=t())||void 0===e||e.addEventListener("wheel",n),function(){var e;return null===(e=t())||void 0===e?void 0:e.removeEventListener("wheel",n)}}),[v,x]);var Z=function(){var e;document.activeElement===document.body&&(null===(e=document.getElementById(F))||void 0===e||e.focus({preventScroll:!0}))};e.useEffect((function(){K()}),[N]),e.useLayoutEffect((function(){setTimeout(Z)})),e.useEffect((function(){return o()}),[]);var X=Ue(w),Y={filtersEditor:function(t){return e.createElement(vs,{key:t,dataScope:X})},editParameter:function(t){return e.createElement(bs,{key:t})}},q=null;switch(v){case"parameters":q=e.createElement(Mu.PveSidebar,null);break;case"designer":var Q=ln("propertiesTab.title"),J=Rn()?e.createElement(Fn,{id:"propTab",toggle:{icon:p(Xc),text:Q,title:Q},customScroll:!0},e.createElement(O,null,e.createElement(Ol,{getFonts:a,getString:ln})),e.createElement(Un,{panels:Y})):null,ee=ln("dataTab.title"),te=Wn()?e.createElement(Fn,{id:"dataTab",toggle:{icon:p(Ic),text:ee,title:ee}},e.createElement(es,{key:"s_bar_data_panel"})):null;if(J||te){var ne=h;J||"propTab"!==ne?te||"dataTab"!==ne||(ne="propTab"):ne="dataTab";var re=b.sidebarWidth,oe={defaultPanelId:ne,onPanelChange:function(e){return M(Kn(e))},onResizeEnd:function(e){return M(xn("sidebarWidth",e))},withSideToggle:!1,dataAid:"sidebar",controlsContainerId:W,collapseTitle:ln("sideBar.collapse"),expandTitle:ln("sideBar.expand"),defaultWidth:re>0?re:void 0};q=e.createElement($n,j({key:"sidebar"},oe),J,te)}}var ae=j({},Xl),ie=((n={about:function(t){return e.createElement(Bs,{key:t})},expression:function(t){return e.createElement(Mu.ExpressionEditor,{key:t,dataScope:X})},tablixWizard:function(t){return e.createElement(Yn,{key:t,reportStyles:C})},tablixWizardWarning:function(t){return e.createElement(qn,{key:t})},datasource:function(t){return e.createElement(is,{key:t})},datasetNew:function(t){return e.createElement(Qn,{key:t,dataSources:w.DataSources,modelDatasets:w.DataSets,reportParameters:w.ReportParameters})},exportTemplate:function(t){return e.createElement(cs,{key:t})}})[Gn]=function(t){return e.createElement(Zn,{key:t})},n),ce=ss(S,_),le=ce.saveAllowed,se=ce.saveAsAllowed,ue=function(){if(le){if(!E)return;M(cn(null,!0))}else M(cn(null,!1))},de={menuItemId:N,onMenuItemSelect:function(e){var t=e;"File"!==t?("Parameters"===t&&"designer"===v?M(Jn("parameters")):"Parameters"!==t&&"designer"!==v&&M(Jn("designer")),M(er(t||"Home"))):l()},onCreateReport:d,onOpenReport:u,showButtons:{preview:k,new:P,open:T,save:I,saveAs:D,file:A}},pe={viewerSettings:x,onClose:function(){return M(tr())}},me=c(Du,((r={})[Au("viewer")]=null!==x,r));return e.createElement(Ti,{backend:ic},e.createElement("div",{className:me,id:F,onKeyDown:function(e){if(null===x){var t={report:w,settings:b,actions:g,clipboard:y,designerReportName:_,canSave:(le||se)&&(I||D||!!l),saveReport:ue,showFileView:l,onOpenReport:u,onCreateReport:d,lockLayout:m.lockLayout,disableBuiltInReportHotkeys:m.disableBuiltInReportHotkeys};G(Tu,e,t)}},tabIndex:-1},e.createElement(Sl,j({},i),e.createElement(ws,null),e.createElement(Ei,{area:"appbar"},e.createElement(ds,j({},de))),e.createElement(Ei,{area:"menu"},e.createElement(gs,null)),e.createElement(Ei,{area:"toolbar"},e.createElement(Cs,{getFonts:a,ref:H}),e.createElement(Xn,{id:W})),e.createElement(Ei,{area:"surface"},"designer"===v&&e.createElement(e.Fragment,null,e.createElement(Mu.DesignerView,{showContextMenuAction:ll.show,makeSharedImageUrl:s,decorationLayerRef:B}),e.createElement(ms,null),e.createElement(Mu.DataFieldPickerDropdown,{dataScope:X}),e.createElement(xs,null)),"parameters"===v&&e.createElement(Mu.PveSurface,null)),e.createElement(Ei,{area:"sidebar"},q),e.createElement(Ei,{area:"statusbar"},e.createElement(ks,null)),e.createElement(cc,{dialogs:ae,id:U}),e.createElement(cc,{dialogs:ie,id:"default"})),e.createElement(Hs,j({},pe))))}));export default Lu;
